"use strict";(self.webpackChunksap_architecture_center=self.webpackChunksap_architecture_center||[]).push([[6819],{3757:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"ref-arch/RA0001/azure-iot-integration/id-ra0001-4","title":"Build Events-to-Business Actions Scenarios with SAP BTP and Microsoft Azure","description":"Sample application for building event-driven architecture application with Microsoft Azure IoT as event source. Assess the critical events and publish to SAP BTP for validation and processing the business processes operations in SAP S/4HANA.","source":"@site/docs/ref-arch/RA0001/4-azure-iot-integration/readme.md","sourceDirName":"ref-arch/RA0001/4-azure-iot-integration","slug":"/ref-arch/a06a959120/4","permalink":"/ref-arch/a06a959120/4","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/architecture-center/edit/main/docs/ref-arch/RA0001/4-azure-iot-integration/readme.md","tags":[{"inline":false,"label":"CAP","permalink":"/tags/cap","description":"SAP Cloud Application Programming (CAP) is a framework for building enterprise-grade applications. It provides a set of tools and libraries that help developers create scalable, secure, and modular applications."},{"inline":false,"label":"Microsoft Azure","permalink":"/tags/azure","description":"Azure is a cloud computing platform created by Microsoft. It provides a wide range of cloud services, including those for computing, analytics, storage, and networking. Users can pick and choose from these services to develop and scale new applications, or run existing applications, in the public cloud."},{"inline":false,"label":"Application Development & Automation","permalink":"/tags/appdev","description":"Extend, create, and automate apps for SAP and non-SAP solutions."},{"inline":false,"label":"Integration","permalink":"/tags/integration","description":"Connect and automate your processes business-wide."}],"version":"current","lastUpdatedBy":"anbazhagan-uma","lastUpdatedAt":1735689600000,"sidebarPosition":1,"frontMatter":{"id":"id-ra0001-4","slug":"/ref-arch/a06a959120/4","sidebar_position":1,"sidebar_custom_props":{},"title":"Build Events-to-Business Actions Scenarios with SAP BTP and Microsoft Azure","description":"Sample application for building event-driven architecture application with Microsoft Azure IoT as event source. Assess the critical events and publish to SAP BTP for validation and processing the business processes operations in SAP S/4HANA.","keywords":["sap","btp","integration","event-driven architecture","azure","genai","cloud application programming model","cap"],"sidebar_label":"Integration with Microsoft Azure","image":"img/logo.svg","tags":["cap","azure","appdev","integration"],"hide_table_of_contents":false,"hide_title":false,"toc_min_heading_level":2,"toc_max_heading_level":4,"draft":false,"unlisted":false,"contributors":["anbazhagan-uma","pra1veenk","AjitKP91","swatimaste00"],"last_update":{"author":"anbazhagan-uma","date":"2025-01-01T00:00:00.000Z"}},"sidebar":"refarchSidebar","previous":{"title":"Integration with Amazon Web Services","permalink":"/ref-arch/a06a959120/3"},"next":{"title":"Architecting multi-region resiliency for SAP BTP","permalink":"/ref-arch/6c73e3575f"}}');var s=i(74848),r=i(28453);const o=i.p+"ef708fc599e67e1f7d04b92a0386b316.drawio",a=i.p+"a377ebae685c0e445266865068ec3155.drawio",c={id:"id-ra0001-4",slug:"/ref-arch/a06a959120/4",sidebar_position:1,sidebar_custom_props:{},title:"Build Events-to-Business Actions Scenarios with SAP BTP and Microsoft Azure",description:"Sample application for building event-driven architecture application with Microsoft Azure IoT as event source. Assess the critical events and publish to SAP BTP for validation and processing the business processes operations in SAP S/4HANA.",keywords:["sap","btp","integration","event-driven architecture","azure","genai","cloud application programming model","cap"],sidebar_label:"Integration with Microsoft Azure",image:"img/logo.svg",tags:["cap","azure","appdev","integration"],hide_table_of_contents:!1,hide_title:!1,toc_min_heading_level:2,toc_max_heading_level:4,draft:!1,unlisted:!1,contributors:["anbazhagan-uma","pra1veenk","AjitKP91","swatimaste00"],last_update:{author:"anbazhagan-uma",date:new Date("2025-01-01T00:00:00.000Z")}},l=void 0,d={},u=[{value:"Scenario",id:"scenario",level:2},{value:"Business Process Flow",id:"business-process-flow",level:2},{value:"Solution Architecture",id:"solution-architecture",level:2},{value:"List of Services and Components",id:"list-of-services-and-components",level:2},{value:"Services in SAP BTP",id:"services-in-sap-btp",level:3},{value:"Microsoft Azure",id:"microsoft-azure",level:3}];function h(e){const n={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{DrawioResources:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("DrawioResources",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"scenario",children:"Scenario"}),"\n",(0,s.jsx)(n.p,{children:"Microsoft Azure IoT Central is an IoT application platform (aPaaS) that simplifies the creation of IoT solutions. Azure IoT Central provides a ready-to-use UX and API surface built to connect, manage, and operate fleets of devices at scale."}),"\n",(0,s.jsx)(n.p,{children:"This describes a sample business scenario for building a reference application based on the event-driven application architecture.It extends the platform agnostic reference architecture to show how to integrate events from Azure IoT Central IoT Platform with SAP S/4HANA using message brokers and events."}),"\n",(0,s.jsx)(n.p,{children:"In this reference architecture, events are received from the Azure IoT Central and the business actions for these events are triggered in SAP S/4HANA. The events from Azure IoT Central are sent to SAP Integration Suite, advanced event mesh using the data export functionality in Azure IoT Central Application. The Node.js extension application deployed in SAP BTP subscribes to the SAP Advanced Event Mesh queue and executes the action that is required to be taken based on the event details. SAP Event Mesh capability in SAP Integration Suite can also be leveraged for integration. The choice of the eventing service can be based on the scenario and volume of events to be handled."}),"\n",(0,s.jsx)(n.h2,{id:"business-process-flow",children:"Business Process Flow"}),"\n",(0,s.jsx)(n.p,{children:"In this event-driven scenario, based on the real-time status of the IoT Devices from Azure IoT Central, actionable events are sent to SAP BTP to decide on the critical business actions to be taken in the SAP business applications based on business rules defined in the system."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"plot",src:i(38956).A+"",width:"1108",height:"454"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Data from IoT Devices are sent to Azure IoT Central which includes all the streaming data from the devices."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Based on the rules in Azure IoT Central, the data is published to SAP Integration Suite, advanced event mesh that require attention. The criteria is configured in IoT Rules in the IoT Platform. Similar decisions can be configured in other systems and applications as well."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"SAP BTP acts as a consumer. Once the event details are received, the SAP BTP extension application which is configured with all necessary actions executes the respective chain. For example, configuring decisions in SAP Build Process Automation to decide on the action to be taken, executing the chain of actions that to be taken based on the event received, or configuring OData API calls to be executed."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The extension application in SAP BTP executes the business actions in respective SAP business applications."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"solution-architecture",children:"Solution Architecture"}),"\n",(0,s.jsx)(n.p,{children:"The key services used by Microsoft Azure are the Azure IoT Central, Azure Blob Storage, Azure Event Grid and Microsoft Entra ID."}),"\n",(0,s.jsx)(n.p,{children:"The services used by SAP BTP are the Cloud Foundry Runtime, SAP Integration Suite advanced event mesh, SAP Event Mesh, SAP Connectivity service, SAP Private Link service, SAP Build Process Automation and SAP Destination service."}),"\n",(0,s.jsx)(n.p,{children:"SAP Private Link service is used for connectivity between SAP BTP and SAP S/4HANA when both systems are running on Microsoft Azure Infrastructure. Alternatively, you can use SAP Connectivity service and a cloud connector for integration of SAP BTP and SAP S/4HANA as well."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option 1: Solution Architecture with SAP S/4HANA on Microsoft Azure and Private Link Service"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"plot",src:i(11693).A+"",width:"1691",height:"938"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(t,{drawioFile:a})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Option 2: Solution Architecture with SAP S/4HANA on-premise or Public Cloud and Cloud Connector"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"plot",src:i(83827).A+"",width:"1783",height:"938"}),"\nSur\n",(0,s.jsx)(t,{drawioFile:o})]}),"\n",(0,s.jsx)(n.p,{children:"The following steps depict the information flow across systems (in both scenarios)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"An application administrator logs into the SAP BTP extension application based on Events to Business Actions Framework via SAP Build Work Zone, advanced edition, to configure the business rules/decisions and the business actions that need to be triggered in business systems."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"An event is triggered from the Azure IoT Central (in the case of the IoT scenario) or any other system."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"These events are published to SAP Integration Suite, advanced event mesh. As the processor module's (part of the Events-to-Business-Action framework) endpoint subscribes to advanced event mesh, the event is received."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The Processor module (part of the Events-to-Business-Action framework) leverages the Decision capability of SAP Build Process Automation to initiate business actions, for example, purchase order requisition creation in SAP S/4HANA, based on characteristics of incoming events."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The defined action is triggered in SAP S/4HANA using the SAP Destination service and SAP Connectivity service leveraging cloud connector setup. In case SAP S/4HANA and SAP BTP are on the same Hyperscaler, communication with SAP S/4HANA happens via the SAP Private Link service."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"list-of-services-and-components",children:"List of Services and Components"}),"\n",(0,s.jsx)(n.p,{children:"These are the technical prerequisites for integration between Azure IoT Central, SAP BTP and SAP S/4HANA."}),"\n",(0,s.jsx)(n.h3,{id:"services-in-sap-btp",children:"Services in SAP BTP"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cloud Foundry Runtime"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Foundation for running the CAP extension application for translating events to business actions."}),"\n",(0,s.jsx)(n.li,{children:"Required for the trust between Microsoft Azure Active Directory and SAP BTP"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authorization & Trust Management Service"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Required for securing the extension application in SAP BTP"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SAP Integration Suite, advanced event mesh"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Required to receive events from Azure IoT Platform"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SAP HANA Cloud"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Required to store action configuration and logs for CAP application"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SAP Build Process Automation, Decisions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Decisions are leveraged to configure business decisions that need to be taken based on the type of event received from Azure IoT Platform."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"microsoft-azure",children:"Microsoft Azure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"A valid Microsoft Azure subscription"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"A Microsoft Azure Active Directory"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Required for the trust between Microsoft Azure Active Directory and SAP BTP"}),"\n",(0,s.jsx)(n.li,{children:"User management"}),"\n",(0,s.jsx)(n.li,{children:"Application registrations to allow access to Microsoft Azure IoT Central REST API and SAP BTP"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"An Azure IoT Central Service"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Service for configuring Azure IoT Central Application"}),"\n",(0,s.jsx)(n.li,{children:"Required for configuring device templates, event producers and event routing."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For detailed step by step information and to try out the integration, visit the Discovery Center mission ",(0,s.jsx)(n.a,{href:"https://discovery-center.cloud.sap/missiondetail/4172/4422/",children:"Build Events-to-Business Actions with Microsoft Azure"})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},83827:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/azure-iot-cc-58d0b3bac7a720f186b414d3fbc4619f.svg"},11693:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/azure-iot-pl-a4651f7bb7328a78d5bbb5c44af351ea.svg"},38956:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/businessprocess-c317e7b4c16d4205ecd0008a41a35889.png"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(96540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);