"use strict";(self.webpackChunksap_architecture_center=self.webpackChunksap_architecture_center||[]).push([[6742],{27905:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/aws-businessprocess-e2be3a2e9047112b2a79831524914f5a.png"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var s=i(96540);const t={},a=s.createContext(t);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(a.Provider,{value:n},e.children)}},37936:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"ref-arch/RA0001/aws-iot-integration/id-ra0001-3","title":"Build Events-to-Business Actions Scenarios with SAP BTP and AWS IoT Core","description":"Sample application for building event-driven architecture application with AWS IoT as event source. Assess the critical events and publish to SAP BTP for validation and processing the business processes operations in SAP S/4HANA.","source":"@site/docs/ref-arch/RA0001/3-aws-iot-integration/readme.md","sourceDirName":"ref-arch/RA0001/3-aws-iot-integration","slug":"/ref-arch/a06a959120/3","permalink":"/ref-arch/a06a959120/3","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/architecture-center/edit/main/docs/ref-arch/RA0001/3-aws-iot-integration/readme.md","tags":[{"inline":false,"label":"CAP","permalink":"/tags/cap","description":"SAP Cloud Application Programming Model (CAP) is a framework of languages, libraries, and tools for building enterprise-grade services and applications. It guides developers along a path of proven best practices and a great wealth of out-of-the-box solutions to recurring tasks."},{"inline":false,"label":"Amazon Web Services","permalink":"/tags/aws","description":"Amazon Web Services (AWS) is a cloud computing platform that provides a wide range of services, including computing power, storage, and databases, to help businesses scale and grow."},{"inline":false,"label":"Application Development & Automation","permalink":"/tags/appdev","description":"Extend, create, and automate apps for SAP and non-SAP solutions."},{"inline":false,"label":"Integration","permalink":"/tags/integration","description":"Connect and automate your processes business-wide."},{"inline":false,"label":"Event-Driven Architecture","permalink":"/tags/eda","description":"An event-driven architecture (EDA) is an integration model built to publish, capture, process, and respond to events across distributed systems in real time. When an event occurs in one application, a message is automatically sent to all the other applications that need to know about it, so they can act on it in turn."}],"version":"current","lastUpdatedBy":"anbazhagan-uma","lastUpdatedAt":1735689600000,"sidebarPosition":1,"frontMatter":{"id":"id-ra0001-3","slug":"/ref-arch/a06a959120/3","sidebar_position":1,"sidebar_custom_props":{},"title":"Build Events-to-Business Actions Scenarios with SAP BTP and AWS IoT Core","description":"Sample application for building event-driven architecture application with AWS IoT as event source. Assess the critical events and publish to SAP BTP for validation and processing the business processes operations in SAP S/4HANA.","keywords":["sap","btp","integration","event-driven architecture","aws","genai","cloud application programming model","cap","eda"],"sidebar_label":"Integration with Amazon Web Services","image":"img/logo.svg","tags":["cap","aws","appdev","integration","eda"],"hide_table_of_contents":false,"hide_title":false,"toc_min_heading_level":2,"toc_max_heading_level":4,"draft":false,"unlisted":false,"contributors":["anbazhagan-uma","pra1veenk","AjitKP91","swatimaste00"],"last_update":{"author":"anbazhagan-uma","date":"2025-01-01T00:00:00.000Z"}},"sidebar":"refarchSidebar","previous":{"title":"Design Considerations for EDA Applications","permalink":"/ref-arch/a06a959120/2"},"next":{"title":"Integration with Microsoft Azure","permalink":"/ref-arch/a06a959120/4"}}');var t=i(74848),a=i(28453);const o=i.p+"e2b-awsiot-sqs-793bc64ec36500b2.drawio",r={id:"id-ra0001-3",slug:"/ref-arch/a06a959120/3",sidebar_position:1,sidebar_custom_props:{},title:"Build Events-to-Business Actions Scenarios with SAP BTP and AWS IoT Core",description:"Sample application for building event-driven architecture application with AWS IoT as event source. Assess the critical events and publish to SAP BTP for validation and processing the business processes operations in SAP S/4HANA.",keywords:["sap","btp","integration","event-driven architecture","aws","genai","cloud application programming model","cap","eda"],sidebar_label:"Integration with Amazon Web Services",image:"img/logo.svg",tags:["cap","aws","appdev","integration","eda"],hide_table_of_contents:!1,hide_title:!1,toc_min_heading_level:2,toc_max_heading_level:4,draft:!1,unlisted:!1,contributors:["anbazhagan-uma","pra1veenk","AjitKP91","swatimaste00"],last_update:{author:"anbazhagan-uma",date:new Date("2025-01-01T00:00:00.000Z")}},c=void 0,l={},d=[{value:"Scenario",id:"scenario",level:2},{value:"Business Process Flow",id:"business-process-flow",level:2},{value:"Solution Architecture",id:"solution-architecture",level:2},{value:"List of Services and Components",id:"list-of-services-and-components",level:2},{value:"SAP BTP Services",id:"sap-btp-services",level:3},{value:"AWS Cloud Products",id:"aws-cloud-products",level:3}];function h(e){const n={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{DrawioResources:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("DrawioResources",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"scenario",children:"Scenario"}),"\n",(0,t.jsx)(n.p,{children:"This describes a sample business scenario for building a reference application based on the event-driven application architecture.It extends the platform agnostic reference architecture to show how to integrate events from AWS IoT Core with SAP S/4HANA enterprise system using message brokers and events."}),"\n",(0,t.jsx)(n.p,{children:"In this reference application use-case, events from AWS IoT core are published to SAP Integration Suite, advanced event mesh or SAP Event Mesh. The Node.js extension application deployed in SAP BTP subscribes to the advanced event mesh queue and executes the action that is required to be taken based on the event details. SAP Event Mesh capability in SAP Integration Suite can also be leveraged for integration. The choice of the eventing service can be based on the scenario and volume of events to be handled."}),"\n",(0,t.jsx)(n.h2,{id:"business-process-flow",children:"Business Process Flow"}),"\n",(0,t.jsx)(n.p,{children:"In this event-driven scenario, based on the real-time data from IoT Devices getting captured in AWS IoT Core, actionable events are sent to SAP BTP to decide on the critical business actions to be taken in the SAP Enterprise Business systems based on business rules defined in SAP BTP."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"plot",src:i(27905).A+"",width:"1217",height:"521"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Data from IoT Devices are sent to AWS IoT Core."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Rules in AWS IoT Core trigger, and the event is published to SAP Event Mesh via Amazon SQS and Amazon EventBridge in case of any actions that need attention. This is defined in IoT Rules for devices."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The extension application subscribes to the events."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The extension application is configured with all necessary actions, for example, calling SAP Business Rules API to read the decision tables and decide on the action to be taken, configuring the OData API call to be executed, and service call back to the device, to be taken."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The extension application executes the business actions."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"For this sample application, based on the fill level of the waste container a new Purchase Order Requisition is created in SAP S/4HANA."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"solution-architecture",children:"Solution Architecture"}),"\n",(0,t.jsx)(n.p,{children:"The key services used by AWS are AWS IoT Core, Amazon SWS and Amazon EventBridge. The services used by SAP BTP are the Cloud Foundry Runtime, SAP Integration Suite, advanced event mesh or SAP Event Mesh, SAP Connectivity service, SAP Private Link service, SAP Build Process Automation and SAP Destination service."}),"\n",(0,t.jsx)(s,{drawioFile:o}),"\n",(0,t.jsx)(n.p,{children:"The following steps depict the information flow across systems"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"An application administrator logs into the SAP BTP Extension application based on Events to Business Actions Framework via SAP Build Work Zone, advanced edition, to configure the business rules, decisions, and the business actions that need to be triggered in the business systems."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"An event is triggered from the AWS IoT via Amazon SQS and Amazon EventBridge to SAP Integration Suite, advanced event mesh."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"These events are published to SAP Integration Suite, advanced event mesh. As the processor module's (part of the Events-to-Business-Action framework) endpoint subscribes to advanced event mesh, the event is received."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The Processor module (part of the Events-to-Business-Action framework) leverages the Decisions capability of SAP Build Process Automation to derive business action (for example, purchase order requisition creation in SAP S/4HANA) based on certain characteristics of incoming events."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The defined action is triggered in SAP S/4HANA using the SAP Destination service and SAP Connectivity service leveraging a cloud connector setup. In case SAP S/4HANA and SAP BTP are on the same Hyperscaler, communication with SAP S/4HANA happens via the SAP Private Link service."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"list-of-services-and-components",children:"List of Services and Components"}),"\n",(0,t.jsx)(n.p,{children:"These are the technical prerequisites for integration between AWS IoT Core, SAP BTP and SAP S/4HANA."}),"\n",(0,t.jsx)(n.h3,{id:"sap-btp-services",children:"SAP BTP Services"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cloud Foundry Runtime"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Foundation for running the CAP extension application for translating events to business actions."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authorization and Trust Management Service"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Required for securing the extension application in SAP BTP"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SAP Integration Suite, Advanced Event Mesh or Event Mesh"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Required to receive events from Amazon AWS IoT"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SAP HANA Cloud"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Required to store action configuration and logs for the CAP application"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SAP Build Process Automation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Develop and manage the decision logic in tabular, spreadsheet-like decision tables."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"aws-cloud-products",children:"AWS Cloud Products"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"A valid Amazon AWS subscription"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AWS IoT Core"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Connect devices to the cloud. Required for connecting IoT deveices and routing messages to AWS servcies without managing infrastructure."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amazon Simple Queue Service (SQS)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Managed message queues.FIFO queues to make sure messages sent to the sytem are published in the correct order. Required to receive events from AWS IoT Core."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Amazon EventBridge"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Serverless event bus for SaaS apps and AWS Services. Required to send events from Amazon SQS to SAP Event Mesh."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For detailed step by step information and to try out the integration, visit the SAP Discovery Center mission ",(0,t.jsx)(n.a,{href:"https://discovery-center.cloud.sap/missiondetail/4172/4422/",children:"Build Events-to-Business Actions with Amazon Web Services"})]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);