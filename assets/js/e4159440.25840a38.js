"use strict";(self.webpackChunksap_architecture_center=self.webpackChunksap_architecture_center||[]).push([[6597],{33562:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"ref-arch/RA0002/id-ra0002","title":"Architecting multi-region resiliency for SAP BTP","description":"Learn how to architect multi-region resiliency for SAP BTP services to ensure high availability and business continuity. This guide covers strategies, best practices, and sample implementations for a robust, compliant multi-region setup with failover and disaster recovery capabilities.","source":"@site/docs/ref-arch/RA0002/readme.md","sourceDirName":"ref-arch/RA0002","slug":"/ref-arch/6c73e3575f","permalink":"/ref-arch/6c73e3575f","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/architecture-center/edit/main/docs/ref-arch/RA0002/readme.md","tags":[{"inline":false,"label":"Amazon Web Services","permalink":"/tags/aws","description":"Amazon Web Services (AWS) is a cloud computing platform that provides a wide range of services, including computing power, storage, and databases, to help businesses scale and grow."},{"inline":false,"label":"Microsoft Azure","permalink":"/tags/azure","description":"Azure is a cloud computing platform created by Microsoft. It provides a wide range of cloud services, including those for computing, analytics, storage, and networking. Users can pick and choose from these services to develop and scale new applications, or run existing applications, in the public cloud."},{"inline":false,"label":"Application Development & Automation","permalink":"/tags/appdev","description":"Extend, create, and automate apps for SAP and non-SAP solutions."},{"inline":false,"label":"Integration","permalink":"/tags/integration","description":"Connect and automate your processes business-wide."}],"version":"current","lastUpdatedBy":"arajsinha","lastUpdatedAt":1738281600000,"sidebarPosition":2,"frontMatter":{"id":"id-ra0002","slug":"/ref-arch/6c73e3575f","sidebar_position":2,"sidebar_custom_props":{"category_index":["appdev","integration","aws","azure"]},"title":"Architecting multi-region resiliency for SAP BTP","description":"Learn how to architect multi-region resiliency for SAP BTP services to ensure high availability and business continuity. This guide covers strategies, best practices, and sample implementations for a robust, compliant multi-region setup with failover and disaster recovery capabilities.","keywords":["sap","integration","application development","ha dr","high availability","disaster recovery","resiliency","business continuity","failover"],"sidebar_label":"Architecting multi-region resiliency for SAP BTP","image":"img/logo.svg","tags":["aws","azure","appdev","integration"],"hide_table_of_contents":false,"hide_title":false,"toc_min_heading_level":2,"toc_max_heading_level":4,"draft":false,"unlisted":false,"contributors":["martinfrick","maxstreifeneder","kshanth","mahesh0431","anirban-sap","jmsrpp","uklasing","alperdedeoglu","arajsinha"],"last_update":{"author":"arajsinha","date":"2025-01-31T00:00:00.000Z"}},"sidebar":"refarchSidebar","previous":{"title":"Integration with Microsoft Azure","permalink":"/ref-arch/a06a959120/4"},"next":{"title":"Single-region and Multi-region resiliency","permalink":"/ref-arch/6c73e3575f/1"}}');var t=n(74848),s=n(28453);const a=n.p+"58513a497227d4402a32b029d1ab3587.drawio",o={id:"id-ra0002",slug:"/ref-arch/6c73e3575f",sidebar_position:2,sidebar_custom_props:{category_index:["appdev","integration","aws","azure"]},title:"Architecting multi-region resiliency for SAP BTP",description:"Learn how to architect multi-region resiliency for SAP BTP services to ensure high availability and business continuity. This guide covers strategies, best practices, and sample implementations for a robust, compliant multi-region setup with failover and disaster recovery capabilities.",keywords:["sap","integration","application development","ha dr","high availability","disaster recovery","resiliency","business continuity","failover"],sidebar_label:"Architecting multi-region resiliency for SAP BTP",image:"img/logo.svg",tags:["aws","azure","appdev","integration"],hide_table_of_contents:!1,hide_title:!1,toc_min_heading_level:2,toc_max_heading_level:4,draft:!1,unlisted:!1,contributors:["martinfrick","maxstreifeneder","kshanth","mahesh0431","anirban-sap","jmsrpp","uklasing","alperdedeoglu","arajsinha"],last_update:{author:"arajsinha",date:new Date("2025-01-31T00:00:00.000Z")}},c=void 0,l={},d=[{value:"Reference Architecture",id:"reference-architecture",level:2},{value:"Workflow",id:"workflow",level:3},{value:"Implementing the Reference Architecture",id:"implementing-the-reference-architecture",level:2},{value:"Target Audience",id:"target-audience",level:2},{value:"Deep Dive",id:"deep-dive",level:2},{value:"Services and Components",id:"services-and-components",level:2},{value:"Resources",id:"resources",level:2},{value:"Related Missions",id:"related-missions",level:2}];function u(e){const i={a:"a",admonition:"admonition",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{DrawioResources:r}=i;return r||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("DrawioResources",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"In today's globally distributed business environment, ensuring high availability and business continuity for your mission critical applications is crucial. Although the SAP BTP services leverage multi-AZ resiliency by default, some customers require additional solution robustness and regulatory compliance by adopting a multi-region setup. This documentation will guide you through the concepts, strategies, and best practices for implementing multi-region architectures on SAP BTP."}),"\n",(0,t.jsx)(i.h2,{id:"reference-architecture",children:"Reference Architecture"}),"\n",(0,t.jsx)(i.p,{children:"SAP BTP offers a global infrastructure that allows deployment across various regions which helps our customers achieve multi-region setup for their services. The following diagram presents a comprehensive reference architecture for multi-region deployment on SAP BTP:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"image",src:n(4949).A+"",width:"1869",height:"934"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(r,{drawioFile:a})}),"\n",(0,t.jsx)(i.h3,{id:"workflow",children:"Workflow"}),"\n",(0,t.jsx)(i.p,{children:"The reference architecture diagram shows the Muti-Region Resilient architecture for the SAP BTP Services and the applications built on SAP BTP."}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"DNS-based load balancers like Azure Traffic Manager or Amazon Route 53 oversee the health of application endpoints distributed across multiple regions (two SAP BTP subaccounts). They employ DNS-based load balancing to direct user traffic to the operational service endpoint by updating DNS records accordingly. Users access the application via the URL provided by the load balancer."}),"\n",(0,t.jsx)(i.li,{children:"Implementing a multi-region architecture requires two different SAP BTP subaccounts in separate hyperscaler regions. If one subaccount experiences service interruptions, the other can take over without disrupting operations. Using the SAP Custom Domain service is crucial to maintain a single, customized URL for a consistent user experience."}),"\n",(0,t.jsx)(i.li,{children:"SAP BTP Services achieve high availability by leveraging multiple availability zones in a single hyperscaler region. For disaster recovery, such as a regional switch, a cross-region HA and DR setup is essential for adequate protection. This requires the SAP BTP services or applications to be available in both the subaccounts."}),"\n",(0,t.jsxs)(i.li,{children:["SAP Integration Suite, Advanced Event Mesh Message Replication can be configured to duplicate messages/events across different regions using DMR (Dynamic Message Routing) cluster replication. The DMR cluster is a feature that ensures events and messages are replicated from one region to another. This is particularly useful in maintaining data consistency and availability during regional outages. For more information, refer to the ",(0,t.jsx)(i.a,{href:"https://help.sap.com/docs/SAP_INTEGRATION_SUITE",children:"SAP Integration Suite documentation"}),". With two separate subaccounts set up for SAP HANA Cloud and employing Smart Data Access (SDA) \u2013 Remote Table Replication, the data is replicated to another region's SAP HANA Cloud. Smart Data Access (SDA) allows for real-time data access and integration across different databases, while Remote Table Replication ensures that data changes in one region are mirrored in another. For more details, see the ",(0,t.jsx)(i.a,{href:"https://help.sap.com/docs/HANA_CLOUD",children:"SAP HANA Cloud documentation"}),"."]}),"\n",(0,t.jsx)(i.li,{children:"An open-source application, called Multi-Region Manager (MRM) on SAP BTP orchestrates the topology change between regions, controlling the data synchronization of SAP HANA Cloud and the event synchronization of SAP Integration Suite\u2019s Advanced Event Mesh. It acts as a control plane in orchestrating the failover process and providing flexibility for both manual and automated failover scenarios."}),"\n",(0,t.jsx)(i.li,{children:"SAP Continuous Integration and Delivery (CI/CD) or the project \u201cPiper\u201d can be used to manage the creation and deployment of numerous SAP BTP services' artifacts or applications ensuring seamless synchronization and consistency across the two subaccounts in the multi-region setup."}),"\n",(0,t.jsx)(i.li,{children:"An external scheduler with multi-region HA capabilities ensures HA setup for scheduled jobs that regularly call SAP BTP services or custom services built on SAP BTP."}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"This architecture is adaptable. Your specific implementation may vary based on your unique requirements, the services you choose to use, and your existing infrastructure."}),"\n",(0,t.jsx)(i.li,{children:"The architecture and strategies outlined in these approaches are reference designs and not turnkey solutions. Our assessment provides an architectural perspective on disaster recovery approaches using selected SAP BTP services and hyperscaler offerings such as Azure Traffic Manager and Amazon Route 53. This represents one possible method for managing stateless and stateful failovers. Additionally, these designs do not encompass the evaluation of customer-specific requirements or custom scenarios. Actual implementations will necessitate careful planning, customization, and development to address unique business needs and constraints."}),"\n"]})}),"\n",(0,t.jsx)(i.h2,{id:"implementing-the-reference-architecture",children:"Implementing the Reference Architecture"}),"\n",(0,t.jsx)(i.p,{children:"While this reference architecture provides a comprehensive reference, implementing a multi-region architecture requires careful planning and execution:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Assessment"}),": Evaluate your current architecture and identify resilience requirements."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Design"}),": Adapt the reference architecture to your specific needs and constraints."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Development"}),": Implement necessary changes in your applications to support multi-region deployment."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Testing"}),": Rigorously test failover scenarios and performance across regions."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Deployment"}),": Gradually roll out your multi-region architecture, starting with non-critical workloads."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Monitoring"}),": Continuously monitor and optimize your multi-region setup."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"SAP provides various open-source sample projects and architectures, but the ultimate implementation and customization responsibility lies with you, the customer or partner."}),"\n",(0,t.jsx)(i.h2,{id:"target-audience",children:"Target Audience"}),"\n",(0,t.jsx)(i.p,{children:"This documentation is intended for:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Solution Architects"}),"\n",(0,t.jsx)(i.li,{children:"Developers"}),"\n",(0,t.jsx)(i.li,{children:"IT Administrators"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"deep-dive",children:"Deep Dive"}),"\n",(0,t.jsx)(i.p,{children:"Implementing multi-region setup is a journey that involves understanding, planning, implementation, and continuous improvement. You can find below various concepts, tools and services that were used in the architecture below or directly deep dive into the resources section for the sample implementations."}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Fundamentals","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/1/1",children:"Single-region resiliency"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/1/2",children:"Multi-region resiliency"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/2",children:"Geographic Redundancy"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/3",children:"Load Balancers"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/4",children:"Data Synchronization"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/5",children:"Events Synchronization"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/6",children:"Control Plane"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"/ref-arch/6c73e3575f/7",children:"Sample Implementations"})}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"services-and-components",children:"Services and Components"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/integration-suite",children:"SAP Integration Suite"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/custom-domain",children:"SAP Custom Domain service"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/sap-build-work-zone-standard-edition",children:"SAP Build Work Zone, standard edition"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/sap-hana-cloud?region",children:"SAP HANA Cloud"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/advanced-event-mesh",children:"SAP Integration Suite, advanced event mesh"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/cloud-foundry-runtime",children:"SAP BTP, Cloud Foundry Runtime"})}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"resources",children:"Resources"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://github.com/SAP-samples/btp-services-intelligent-routing",children:"SAP Samples | GitHub "})}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"related-missions",children:"Related Missions"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://discovery-center.cloud.sap/missiondetail/3603/3646/",children:"Route Multi-Region Traffic to SAP BTP Services Intelligently"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},4949:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/images/architecting-multi-region-resiliency-for-sap-btp-use-cases-a3ecbb26ed754467c84eddd53414bc8b.svg"},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>o});var r=n(96540);const t={},s=r.createContext(t);function a(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);