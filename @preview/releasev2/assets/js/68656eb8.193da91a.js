"use strict";(self.webpackChunksap_architecture_center=self.webpackChunksap_architecture_center||[]).push([[9727],{4437:(e,t,n)=>{n.d(t,{A:()=>An});var s=n(96540),i=(n(19950),n(6246)),r=n(22038),o=n(60083),a=n(32708),l=n(12532),c=n(59798),d=n(90043),u=n(53439),h=n(45838),m=n(94439),g=n(66940),p=n(29325),x=n(9765),f=n(25035),j=n(61497),v=n(74983),_=n(40583),C=n(48832),k=n(99393);const N="image_buwF",y="focused_pOvt";var b=n(74848);function w({src:e,altText:t,nodeKey:n,width:i,height:r}){const[o,a,l]=(0,k.Y)(n),[c]=(0,m.DF)(),d=(0,s.useCallback)(e=>{e.preventDefault(),o?l():(l(),a(!0))},[o,l,a]);return(0,b.jsx)("div",{draggable:!1,onClick:d,onContextMenu:d,children:(0,b.jsx)("img",{src:e,alt:t,className:o?`${N} ${y}`:N})})}function S(e){if(e instanceof HTMLImageElement){const{alt:t,src:n}=e;return{node:T({altText:t,src:n})}}return null}class A extends C.Kp7{static getType(){return"image"}static clone(e){return new A(e.__src,e.__altText,e.__width,e.__height,e.__key)}static importJSON(e){const{altText:t,height:n,width:s,src:i}=e;return T({altText:t,height:n,width:s,src:i})}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),{element:e}}static importDOM(){return{img:e=>({conversion:S,priority:0})}}createDOM(e){const t=document.createElement("span"),n=e.theme.image;return void 0!==n&&(t.className=n),t}updateDOM(){return!1}constructor(e,t,n,s,i){super(i),this.__src=e,this.__altText=t,this.__width=n||"inherit",this.__height=s||"inherit"}exportJSON(){return{altText:this.getAltText(),height:"inherit"===this.__height?0:this.__height,src:this.getSrc(),type:"image",version:1,width:"inherit"===this.__width?0:this.__width}}getSrc(){return this.__src}getAltText(){return this.__altText}decorate(){return(0,b.jsx)(w,{src:this.__src,altText:this.__altText,nodeKey:this.getKey(),width:this.__width,height:this.__height})}}function T({altText:e,height:t,src:n,width:s,key:i}){return(0,C.pTq)(new A(n,e,s,t,i))}const I=(0,C.guI)("INSERT_IMAGE_COMMAND"),D=(0,C.guI)("TOGGLE_IMAGE_DIALOG"),E=(0,C.guI)("INSERT_DRAWIO_COMMAND"),L=(0,C.guI)("OPEN_DRAWIO_DIALOG");function z(){const[e]=(0,m.DF)(),t=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!e.hasNodes([A]))throw new Error("ImagePlugin: ImageNode not registered on editor");const n=e.registerCommand(I,t=>(e.update(()=>{const e=(0,C.vJq)();if((0,C.I2P)(e)){const n=T(t);e.insertNodes([n])}}),!0),C.jZM),s=e.registerCommand(D,()=>(t.current?.click(),!0),C.jZM);return()=>{n(),s()}},[e]),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:n=>{const s=n.target.files?.[0];if(s){const t=URL.createObjectURL(s);e.dispatchCommand(I,{src:t,altText:s.name})}t.current&&(t.current.value="")},ref:t,style:{display:"none"}})}var P=n(27639),$=n(75107),M=n(3549),O=n(93164),B=n(80697),J=n(59612),R=n(96166),F=n(28117),U=n(84390),K=n(84009),q=n(62345),H=n(44854),W=n(46071),G=n(70861),Y=n(17050),Z=n(90737),X=n(31845),Q=n(56265),V=n(69308),ee=n(87332),te=n(92919),ne=n(29669),se=n(70820),ie=n(6388),re=n(70306),oe=n(61885);const ae={name:"File",icon:(0,b.jsx)(F.A,{size:20}),keywords:["file","upload","import","attach","document","docx"],onSelect:e=>{const t=document.createElement("input");t.type="file",t.accept=".txt,.md,.docx",t.style.display="none",t.onchange=n=>{const s=n.target,i=s.files?.[0];if(!i)return;const r=new FileReader;i.name.endsWith(".docx")?(r.readAsArrayBuffer(i),r.onload=async t=>{const n=t.target?.result;if(n)try{const t={convertImage:re.images.imgElement(()=>({}))},s=(await re.aY({arrayBuffer:n},t)).value;e.update(()=>{const t=(new DOMParser).parseFromString(s,"text/html"),n=(0,oe.d)(e,t),i=(0,C.vJq)();(0,C.I2P)(i)&&i.insertNodes(n)})}catch(s){console.error("Error converting .docx file:",s),alert("Could not process the .docx file. It may be corrupted or in an unsupported format.")}}):(r.readAsText(i),r.onload=t=>{const n=t.target?.result;n&&e.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&e.insertText(n)})}),r.onerror=e=>{console.error("Error reading file:",e),alert("An error occurred while reading the file.")},document.body.removeChild(t)},document.body.appendChild(t),t.click()}},le="floatingToolbarContainer_Uhho",ce="toolbarContent_ufQg",de="toolbarButtonGroup_W1eX",ue="toolbarButton_lWxh",he="active_n929",me="divider_Ed_Y",ge="dropdownContainer_Ylwh",pe="dropdownButton_YuXC",xe="dropdownChevron_ZdIO",fe="dropdownMenu_jzM1",je="dropdownItem_LvaA",ve="linkEditorPositioner_mIBE",_e="linkEditor_egYG",Ce="linkInput_PVM9",ke="fixedToolbarContainer_GyuD",Ne="disabled_HD1F";function ye(e){const t=e.anchor,n=e.focus,s=e.anchor.getNode(),i=e.focus.getNode();if(s===i)return s;return e.isBackward()?(0,P.Nx)(n)?s:i:(0,P.Nx)(t)?i:s}const be={code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",paragraph:"Paragraph"},we={"font-size":"24px","font-weight":"bold"},Se={"font-size":"20px","font-weight":"bold"},Ae={"font-size":"16px","font-weight":"bold"},Te={"font-size":"inherit","font-weight":"normal"};function Ie(e,t){e.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&(0,P.BJ)(e,t)})}function De({editor:e,blockType:t}){const[n,i]=(0,s.useState)(!1),r=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const o=t=>{Ie(e,t),i(!1)};return(0,b.jsxs)("div",{className:ge,ref:r,children:[(0,b.jsxs)("button",{className:pe,onClick:()=>i(!n),children:[be[t]||"Paragraph",(0,b.jsx)($.A,{size:16,className:xe})]}),n&&(0,b.jsxs)("div",{className:fe,children:[(0,b.jsxs)("button",{className:je,onClick:()=>{Ie(e,Te),i(!1)},children:[(0,b.jsx)(M.A,{size:16,style:{marginRight:"8px"}}),"Paragraph"]}),(0,b.jsxs)("button",{className:je,onClick:()=>o(we),children:[(0,b.jsx)("span",{style:{marginRight:"8px",fontSize:"16px",fontWeight:"bold"},children:"H1"}),"Heading 1"]}),(0,b.jsxs)("button",{className:je,onClick:()=>o(Se),children:[(0,b.jsx)("span",{style:{marginRight:"8px",fontSize:"14px",fontWeight:"bold"},children:"H2"}),"Heading 2"]}),(0,b.jsxs)("button",{className:je,onClick:()=>o(Ae),children:[(0,b.jsx)("span",{style:{marginRight:"8px",fontSize:"12px",fontWeight:"bold"},children:"H3"}),"Heading 3"]}),(0,b.jsxs)("button",{className:je,onClick:()=>{e.dispatchCommand(C.mB,"code"),i(!1)},children:[(0,b.jsx)(O.A,{size:16,style:{marginRight:"8px"}}),"Code"]})]})]})}function Ee({editor:e}){const[t,n]=(0,s.useState)(!1),i=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,b.jsxs)("div",{className:ge,ref:i,children:[(0,b.jsxs)("button",{className:pe,onClick:()=>n(!t),title:"Insert",children:[(0,b.jsx)(B.A,{size:16}),"Insert",(0,b.jsx)($.A,{size:16,className:xe})]}),t&&(0,b.jsxs)("div",{className:fe,children:[(0,b.jsxs)("button",{className:je,onClick:()=>{e.dispatchCommand(D,void 0),n(!1)},children:[(0,b.jsx)(J.A,{size:16,style:{marginRight:"8px"}}),"Image"]}),(0,b.jsxs)("button",{className:je,onClick:()=>{e.dispatchCommand(L,void 0),n(!1)},children:[(0,b.jsx)(R.A,{size:16,style:{marginRight:"8px"}}),"Draw.io Diagram"]}),(0,b.jsxs)("button",{className:je,onClick:()=>{ae.onSelect(e),n(!1)},children:[(0,b.jsx)(F.A,{size:16,style:{marginRight:"8px"}}),"File"]})]})]})}function Le({editor:e,onClose:t}){const n=(0,s.useRef)(null),[i,r]=(0,s.useState)("");(0,s.useEffect)(()=>{e.getEditorState().read(()=>{const e=(0,C.vJq)();if((0,C.I2P)(e)){const t=ye(e),n=t.getParent();(0,j.FJ)(n)?r(n.getURL()):(0,j.FJ)(t)?r(t.getURL()):r("https://")}}),setTimeout(()=>n.current?.focus(),0)},[e]);return(0,b.jsx)("div",{className:_e,children:(0,b.jsx)("input",{ref:n,className:Ce,value:i,onChange:e=>r(e.target.value),onKeyDown:n=>{"Enter"===n.key?(n.preventDefault(),""!==i.trim()&&e.dispatchCommand(j.yW,i),t()):"Escape"===n.key&&(n.preventDefault(),t())},placeholder:"Paste link or search pages"})})}function ze({onEditLink:e,mode:t}){const[n]=(0,m.DF)(),[i,r]=(0,s.useState)("paragraph"),[o,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[_,k]=(0,s.useState)(!1),[N,y]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[A,T]=(0,s.useState)("#000000"),[I,D]=(0,s.useState)("#ffffff"),E=(0,s.useCallback)(()=>{const e=(0,C.vJq)();if((0,C.I2P)(e)){a(e.hasFormat("bold")),c(e.hasFormat("italic")),u(e.hasFormat("underline")),x(e.hasFormat("strikethrough")),v(e.hasFormat("code"));const t=(0,P.$S)(e,"color","#000000");T(t);const n=(0,P.$S)(e,"background-color","#ffffff");D(n);const s=(0,P.$S)(e,"font-size","inherit");r("24px"===s?"h1":"20px"===s?"h2":"16px"===s?"h3":"paragraph");const i=ye(e),o=i.getParent();k((0,j.FJ)(o)||(0,j.FJ)(i))}},[]);(0,s.useEffect)(()=>n.registerUpdateListener(({editorState:e})=>{e.read(()=>{E()})}),[n,E]),(0,s.useEffect)(()=>n.registerCommand(C.KfJ,e=>(y(e),!1),C.da8),[n]),(0,s.useEffect)(()=>n.registerCommand(C.WWb,e=>(S(e),!1),C.da8),[n]);const L=(0,s.useCallback)(()=>{_?n.dispatchCommand(j.yW,null):e()},[n,_,e]),z=(0,s.useCallback)(e=>{n.update(()=>{const t=(0,C.vJq)();null!==t&&(0,P.BJ)(t,e)})},[n]);(0,s.useCallback)(e=>{z({color:e})},[z]),(0,s.useCallback)(e=>{z({"background-color":e})},[z]);return"floating"===t?(0,b.jsxs)("div",{className:ce,children:[(0,b.jsx)(De,{editor:n,blockType:i}),(0,b.jsx)("div",{className:me}),(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"bold"),className:`${ue} ${o?he:""}`,children:(0,b.jsx)(U.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"italic"),className:`${ue} ${l?he:""}`,children:(0,b.jsx)(K.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"underline"),className:`${ue} ${d?he:""}`,children:(0,b.jsx)(q.A,{size:16})})]}),(0,b.jsx)("div",{className:me}),(0,b.jsx)("div",{className:de,children:(0,b.jsx)("button",{onClick:L,className:`${ue} ${_?he:""}`,children:(0,b.jsx)(H.A,{size:16})})})]}):(0,b.jsxs)("div",{className:ce,children:[(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)("button",{disabled:!N,onClick:()=>n.dispatchCommand(C.ZKf,void 0),className:`${ue} ${N?"":Ne}`,title:"Undo",children:(0,b.jsx)(W.A,{size:16})}),(0,b.jsx)("button",{disabled:!w,onClick:()=>n.dispatchCommand(C.V30,void 0),className:`${ue} ${w?"":Ne}`,title:"Redo",children:(0,b.jsx)(G.A,{size:16})})]}),(0,b.jsx)("div",{className:me}),(0,b.jsx)(De,{editor:n,blockType:i}),(0,b.jsx)("div",{className:me}),(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"bold"),className:`${ue} ${o?he:""}`,title:"Bold",children:(0,b.jsx)(U.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"italic"),className:`${ue} ${l?he:""}`,title:"Italic",children:(0,b.jsx)(K.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"underline"),className:`${ue} ${d?he:""}`,title:"Underline",children:(0,b.jsx)(q.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"strikethrough"),className:`${ue} ${h?he:""}`,title:"Strikethrough",children:(0,b.jsx)(Y.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.mB,"code"),className:`${ue} ${f?he:""}`,title:"Code",children:(0,b.jsx)(O.A,{size:16})})]}),(0,b.jsx)("div",{className:me}),(0,b.jsx)("div",{className:de,children:(0,b.jsx)("button",{onClick:L,className:`${ue} ${_?he:""}`,title:"Insert Link",children:(0,b.jsx)(H.A,{size:16})})}),(0,b.jsx)("div",{className:me}),(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)("button",{onClick:()=>{n.dispatchCommand(p.q7,void 0)},className:ue,title:"Bullet List",children:(0,b.jsx)(Z.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>{n.dispatchCommand(p.x,void 0)},className:ue,title:"Numbered List",children:(0,b.jsx)(X.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>{n.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&(0,P.zI)(e,()=>(0,g.xi)())})},className:ue,title:"Quote",children:(0,b.jsx)(Q.A,{size:16})})]}),(0,b.jsx)("div",{className:me}),(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.fUS,"left"),className:ue,title:"Align Left",children:(0,b.jsx)(V.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.fUS,"center"),className:ue,title:"Align Center",children:(0,b.jsx)(ee.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.fUS,"right"),className:ue,title:"Align Right",children:(0,b.jsx)(te.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.fUS,"justify"),className:ue,title:"Justify",children:(0,b.jsx)(ne.A,{size:16})})]}),(0,b.jsx)("div",{className:me}),(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.sik,void 0),className:ue,title:"Outdent",children:(0,b.jsx)(se.A,{size:16})}),(0,b.jsx)("button",{onClick:()=>n.dispatchCommand(C.PiT,void 0),className:ue,title:"Indent",children:(0,b.jsx)(ie.A,{size:16})})]}),(0,b.jsx)("div",{className:me}),(0,b.jsx)(Ee,{editor:n})]})}function Pe({mode:e="floating"}){const[t]=(0,m.DF)(),n=(0,s.useRef)(null),[i,r]=(0,s.useState)(!1),o=(0,s.useCallback)(()=>{if("fixed"===e)return;const s=n.current,i=(0,C.vJq)();if(!s||!i)return;const r=window.getSelection(),o=t.getRootElement();if((0,C.I2P)(i)&&r&&!r.isCollapsed&&o&&o.contains(r.anchorNode)){const e=i.getNodes();if(0===e.length&&""===i.getTextContent())return s.style.opacity="0",void(s.style.top="-1000px");const t=new Set;for(const s of e){const e=s.getTopLevelElement();e&&t.add(e.getKey())}const n=s.offsetParent;if(!n)return;const a=n.getBoundingClientRect();let l,c;if(t.size>1){const e=o.getBoundingClientRect();l=e.top-a.top+200,c=e.left-a.left+s.offsetWidth/2}else{const e=r.getRangeAt(0).getBoundingClientRect();l=e.top-a.top-s.offsetHeight-5,c=e.left-a.left}s.style.opacity="1",s.style.top=`${l}px`,s.style.left=`${c}px`}else s.style.opacity="0",s.style.top="-1000px"},[t,e]);(0,s.useEffect)(()=>{"fixed"!==e&&t.getEditorState().read(()=>{o()})},[i,t,o,e]),(0,s.useEffect)(()=>{if("fixed"===e)return;return t.registerUpdateListener(({editorState:e})=>{e.read(()=>{o()})})},[t,o,e]),(0,s.useEffect)(()=>t.registerCommand(C.MvL,()=>{const e=(0,C.vJq)();return!i||(0,C.I2P)(e)&&!e.isCollapsed()||r(!1),!1},1),[t,i]),(0,s.useEffect)(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const a="fixed"===e?ke:le;return(0,b.jsxs)("div",{ref:n,className:a,children:[(0,b.jsx)(ze,{mode:e,onEditLink:()=>{r(!0)}}),i&&(0,b.jsx)("div",{className:ve,children:(0,b.jsx)(Le,{editor:t,onClose:()=>{r(!1)}})})]})}const $e="drawioContainer_j2ZE";function Me({diagramXML:e}){const t=(0,s.useMemo)(()=>`https://viewer.diagrams.net/?lightbox=1&edit=_blank&layers=1&nav=1#R${encodeURIComponent(e)}`,[e]);return(0,b.jsx)("div",{className:$e,children:(0,b.jsx)("iframe",{src:t,title:"Draw.io Diagram Preview"})})}class Oe extends C.Kp7{static getType(){return"drawio"}static clone(e){return new Oe(e.__diagramXML,e.__key)}static importJSON(e){return Be(e.diagramXML)}exportJSON(){return{diagramXML:this.__diagramXML,type:"drawio",version:1}}createDOM(e){const t=document.createElement("div");return t.style.display="contents",t}updateDOM(){return!1}constructor(e,t){super(t),this.__diagramXML=e}decorate(){return(0,b.jsx)(Me,{diagramXML:this.__diagramXML})}}function Be(e){return(0,C.pTq)(new Oe(e))}function Je(){const[e]=(0,m.DF)(),t=(0,s.useRef)(null),n=t=>{if(!t||!t.name.toLowerCase().endsWith(".drawio"))return void console.warn("Invalid file type. Please upload a .drawio file.");const n=new FileReader;n.onload=t=>{const n=t.target?.result;n&&e.dispatchCommand(E,n)},n.readAsText(t)};return(0,s.useEffect)(()=>{if(!e.hasNodes([Oe]))throw new Error("DrawioPlugin: DrawioNode not registered on editor");const s=e.registerCommand(E,t=>(e.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&e.insertNodes([Be(t)])}),!0),C.jZM),i=e.registerCommand(L,()=>(t.current?.click(),!0),C.jZM),r=e.getRootElement(),o=e=>{e.preventDefault()},a=e=>{e.preventDefault();const t=e.dataTransfer?.files;if(t&&t.length>0){const e=Array.from(t).find(e=>e.name.toLowerCase().endsWith(".drawio"));e&&n(e)}};return r&&(r.addEventListener("dragover",o),r.addEventListener("drop",a)),()=>{s(),i(),r&&(r.removeEventListener("dragover",o),r.removeEventListener("drop",a))}},[e]),(0,b.jsx)("input",{type:"file",accept:".drawio",onChange:e=>{const t=e.target.files?.[0];t&&n(t),e.target.value=""},ref:t,style:{display:"none"}})}var Re=n(6561),Fe=n(20938),Ue=n(9680),Ke=n(89068),qe=n(81688),He=(n(57010),n(66588));const We="container_VIpN",Ge="actions_NntW",Ye="displayTitle_d7KV",Ze="titleInput_kv6E",Xe="metadataInfo_zdAw",Qe="tag_W39g",Ve="placeholder_WR0F",et="updateInfo_bldA",tt="formField_pT7Y",nt="cancelButton_mMFA";function st({title:e,tags:t,authors:n,nodeKey:i,editor:r}){const o=(0,He.Ay)()["docusaurus-tags"].default.tags||{},{availableTags:a,tagKeyToLabelMap:l}=(0,s.useMemo)(()=>{if(!o||0===Object.keys(o).length)return{availableTags:[],tagKeyToLabelMap:new Map};const e=Object.entries(o).filter(([e])=>"demo"!==e).map(([e,t])=>({key:e,label:t.label,description:t.description})),t=new Map(e.map(e=>[e.key,e.label]));return{availableTags:e,tagKeyToLabelMap:t}},[o]),[c,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)(()=>{const s=t.map(e=>a.find(t=>t.key===e)).filter(Boolean);return{title:e,tags:s,authors:n}}),[m,g]=(0,s.useState)(""),{getActiveDocument:p,updateDocument:x}=(0,_.u)(),f=()=>{const e=p();if(!e)return;const t=u.tags.map(e=>e.key);r.update(()=>{const e=(0,C.nsf)(i);e instanceof it&&(e.setTitle(u.title),e.setTags(t),e.setAuthors(u.authors))}),x(e.id,{title:u.title,tags:t,authors:u.authors}),d(!1)},j=()=>{d(!1);const s=t.map(e=>a.find(t=>t.key===e)).filter(Boolean);h({title:e,tags:s,authors:n})},k=e=>{const t=e.target.value.trim();t&&!u.authors.includes(t)&&h(e=>({...e,authors:[...e.authors,t]})),g("")},N=e=>{const t=e.detail.token.text;h(e=>({...e,authors:e.authors.filter(e=>e!==t)}))};return c?(0,b.jsxs)("div",{className:We,children:[(0,b.jsx)(Re.p,{value:u.title,className:Ze,placeholder:"Enter a title...",onInput:e=>h(t=>({...t,title:e.target.value}))}),(0,b.jsx)("div",{className:tt,children:(0,b.jsx)(Fe.n,{placeholder:"Select tags",onSelectionChange:e=>{const t=e.detail.items.map(e=>a.find(t=>t.label===e.text)).filter(Boolean);h(e=>({...e,tags:t}))},children:a.map(e=>(0,b.jsx)(Ue.e,{text:e.label,selected:u.tags.some(t=>t.key===e.key)},e.key))})}),(0,b.jsx)("div",{className:tt,children:(0,b.jsx)(Ke.g,{placeholder:"Add authors",value:m,onInput:e=>g(e.target.value),onChange:k,onTokenDelete:N,tokens:u.authors.map(e=>(0,b.jsx)(qe.o,{text:e},e))})}),(0,b.jsx)(v.$,{onClick:f,design:"Emphasized",children:"Save"}),(0,b.jsx)(v.$,{onClick:j,className:nt,children:"Cancel"})]}):(0,b.jsxs)("div",{className:We,children:[(0,b.jsx)("div",{className:Ge,children:(0,b.jsx)(v.$,{icon:"edit",design:"Transparent",onClick:()=>d(!0)})}),(0,b.jsx)("h1",{className:Ye,children:e||"Untitled Page"}),(0,b.jsxs)("div",{className:Xe,children:[(0,b.jsx)("div",{children:t.length>0?t.map(e=>(0,b.jsx)("span",{className:Qe,children:l.get(e)||e},e)):(0,b.jsx)("span",{className:Ve,children:"No tags yet"})}),(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:et,children:["Last updated on ",(0,b.jsx)("strong",{children:(new Date).toLocaleDateString()})," by"," ",(0,b.jsx)("strong",{children:n.length>0?n.join(", "):"Unknown"})]})})]})]})}class it extends C.Kp7{static getType(){return"article-metadata"}static clone(e){return new it(e.__title,e.__tags,e.__authors,e.__key)}exportJSON(){return{title:this.__title,authors:this.__authors,tags:this.__tags,type:"article-metadata",version:1}}static importJSON(e){return rt(e.title||"",e.tags,e.authors)}constructor(e="",t=[],n=[],s){super(s),this.__title=e,this.__tags=t,this.__authors=n}createDOM(e){return document.createElement("div")}updateDOM(){return!1}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}setTags(e){this.getWritable().__tags=e}setAuthors(e){this.getWritable().__authors=e}decorate(e){return(0,b.jsx)(st,{title:this.__title,tags:this.__tags,authors:this.__authors,nodeKey:this.getKey(),editor:e})}}function rt(e,t,n){return new it(e,t,n)}const ot="tocContainer_dcOI",at="tocList_wPsL",lt="tocItem_xuHY",ct="active_RzBK";function dt(){const[e]=(0,m.DF)(),[t,n]=(0,s.useState)([]),[i,r]=(0,s.useState)(null),o=(0,_.u)(e=>e.pageData);(0,s.useEffect)(()=>{const s=e.registerUpdateListener(({editorState:e})=>{e.read(()=>{const e=(0,C.NiT)().getChildren().reduce((e,t)=>{if(t instanceof it){const n=t.getTitle();n&&e.push({key:t.getKey(),text:n,level:1})}else(0,g.Pi)(t)&&e.push({key:t.getKey(),text:t.getTextContent(),level:parseInt(t.getTag().substring(1),10)});return e},[]);JSON.stringify(t)!==JSON.stringify(e)&&n(e)})});return()=>s()},[e,t]);const a=t=>{(t=>{e.update(()=>{const n=e.getElementByKey(t);if(n){const e=document.querySelector(".navbar--fixed-top"),t=e?e.offsetHeight:0,s=40,i=n.getBoundingClientRect().top+window.scrollY-t-s;window.scrollTo({top:i,behavior:"smooth"})}})})(t),r(t)},l=o?.title||"Table of Contents";return(0,b.jsx)("div",{className:ot,children:(0,b.jsx)("ul",{className:at,children:t.length>0?t.map(e=>(0,b.jsx)("li",{className:`${lt} ${e.key===i?ct:""}`,"data-level":e.level,onClick:()=>a(e.key),title:e.text,children:e.text},e.key)):(0,b.jsx)("li",{className:lt,"data-level":"1",children:l})})})}var ut=n(95591),ht=n(40961),mt=n(35257),gt=n(24256);const pt="typeahead-popover_XPSu",xt="selected_vMYK",ft="icon_l3og",jt="text_lPfR",vt="hint_h1zO",_t="menuFooter_nkwt",Ct="footerKey_N8ue";class kt extends ut.BB{constructor(e,t){super(e),this.name=e,this.icon=t.icon,this.keywords=t.keywords||[],this.hint=t.hint,this.onSelect=t.onSelect}}function Nt({isSelected:e,onClick:t,onMouseEnter:n,option:s}){return(0,b.jsxs)("li",{ref:s.setRefElement,className:e?xt:"",onClick:t,onMouseEnter:n,role:"option","aria-selected":e,children:[(0,b.jsx)("span",{className:ft,children:s.icon}),(0,b.jsx)("span",{className:jt,children:s.name}),s.hint&&(0,b.jsx)("span",{className:vt,children:s.hint})]},s.key)}function yt({options:e,onSelectOption:t,selectedIndex:n,queryString:s}){return(0,b.jsxs)("div",{className:pt,children:[(0,b.jsx)("ul",{children:e.map((e,s)=>(0,b.jsx)(Nt,{isSelected:n===s,onClick:()=>t(e),onMouseEnter:()=>{},option:e},e.key))}),(0,b.jsxs)("div",{className:_t,children:[(0,b.jsx)("span",{children:s?(0,b.jsxs)(b.Fragment,{children:["/",(0,b.jsx)("b",{children:s})]}):"Type '/' on the page"}),(0,b.jsx)("span",{className:Ct,children:"esc"})]})]})}function bt(){const[e]=(0,m.DF)(),[t,n]=(0,s.useState)(null),i=(0,s.useMemo)(()=>[new kt("Paragraph",{icon:(0,b.jsx)(M.A,{size:20}),keywords:["paragraph","text","p"],onSelect:e=>{e.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&(0,P.zI)(e,()=>(0,C.lJ7)())})}}),new kt("Heading 1",{icon:(0,b.jsx)(mt.A,{size:20}),keywords:["heading","h1","header"],hint:"#",onSelect:e=>{e.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&(0,P.zI)(e,()=>(0,g.fi)("h1"))})}}),new kt("Heading 2",{icon:(0,b.jsx)(gt.A,{size:20}),keywords:["heading","h2","header"],hint:"##",onSelect:e=>{e.update(()=>{const e=(0,C.vJq)();(0,C.I2P)(e)&&(0,P.zI)(e,()=>(0,g.fi)("h2"))})}}),new kt("Bulleted List",{icon:(0,b.jsx)(Z.A,{size:20}),keywords:["bullet","list","ul"],hint:"-",onSelect:e=>{e.dispatchCommand(p.q7,void 0)}}),new kt("Numbered List",{icon:(0,b.jsx)(X.A,{size:20}),keywords:["numbered","list","ol"],hint:"1.",onSelect:e=>{e.dispatchCommand(p.x,void 0)}}),new kt("Image",{icon:(0,b.jsx)(J.A,{size:20}),keywords:["image","photo","picture","img"],onSelect:e=>{e.dispatchCommand(D,void 0)}}),new kt("Draw.io Diagram",{icon:(0,b.jsx)(R.A,{size:20}),keywords:["drawio","diagram","draw","flowchart"],onSelect:e=>{e.dispatchCommand(L,void 0)}}),new kt(ae.name,{...ae})],[]),r=(0,s.useMemo)(()=>{if(!t)return i;const e=t.toLowerCase();return i.filter(t=>t.name.toLowerCase().includes(e)||t.keywords.some(t=>t.includes(e)))},[i,t]),o=(0,ut.mx)("/",{minLength:0}),a=(0,s.useCallback)((t,n,s)=>{e.update(()=>{n&&n.remove(),t.onSelect(e),s()})},[e]);return(0,b.jsx)(ut.QP,{onQueryChange:n,onSelectOption:a,triggerFn:o,options:r,menuRenderFn:(e,{selectedIndex:n,selectOptionAndCleanUp:s})=>e.current&&r.length>0?ht.createPortal((0,b.jsx)(yt,{options:r,selectedIndex:n,onSelectOption:e=>{s(e)},queryString:t}),e.current):null})}function wt(){const[e]=(0,m.DF)(),{getActiveDocument:t}=(0,_.u)(),n=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{if(n.current)return;const s=t();if(!s)return;let i=!1;e.update(()=>{const e=(0,C.NiT)(),t=e.getChildren();if(0===t.length){const{title:t,tags:n,authors:r}=s;e.append(rt(t||"Untitled Page",n||[],r||[]),(0,C.lJ7)()),i=!0}else 1===t.length&&t[0]instanceof it&&(e.append((0,C.lJ7)()),i=!0)}),i&&setTimeout(()=>{e.update(()=>{(0,C.NiT)().selectEnd()}),e.focus()},0),n.current=!0},[e,t]),null}function St(){const[e]=(0,m.DF)(),{getActiveDocument:t,updateDocument:n}=(0,_.u)();return(0,s.useEffect)(()=>{const s=t();if(s)return e.registerUpdateListener(({editorState:e})=>{e.read(()=>{const e=(0,C.NiT)().getFirstChild();if((0,g.Pi)(e)&&"h1"===e.getTag()){const t=e.getTextContent();t!==s.title&&n(s.id,{title:t})}})})},[e,t,n]),null}function At(){const[e]=(0,m.DF)(),{getActiveDocument:t}=(0,_.u)();return(0,s.useEffect)(()=>e.registerUpdateListener(()=>{const n=t();n&&e.update(()=>{const e=(0,C.NiT)(),t=e.getFirstChild();if(!(t instanceof it)){const s=rt(n.title||"",n.tags||[],n.authors||[]);t?t.insertBefore(s):e.append(s)}const s=e.getFirstChild();if(!(s?s.getNextSibling():null)){const t=(0,C.lJ7)();e.append(t)}})}),[e,t]),null}const Tt="editorPageWrapper_ru3S",It="navColumn_oxZt",Dt="editorColumn_kzIv",Et="tocColumn_vtDV",Lt="editorContainer_KnxE",zt="editorInner_J7uk",Pt="editorInput_qkze",$t="editorPlaceholder_sOt1",Mt="editorHeader_Vu6D",Ot="saveTimestamp_WBtD",Bt="headerButtons_A9kd",Jt="dialogOverlay_QeYh",Rt="dialogContent_wSa6",Ft="dialogTitle_nfqq",Ut="dialogMessage_qJL1",Kt="dialogActions_QBm1",qt="editorTokenComment_bFoZ",Ht="editorTokenProperty_mB_7",Wt="editorTokenSelector_s2mQ",Gt="editorTokenOperator_BbGX",Yt="editorTokenAttr_brx6",Zt="editorTokenVariable_pBr2",Xt="editorTokenFunction_ZjKa",Qt={ltr:"ltr_yvot",rtl:"rtl_nZSQ",placeholder:$t,paragraph:"editorParagraph_iPKb",quote:"editorQuote_mp9z",heading:{h1:"editorH1_VuK0",h2:"editorH2_VFP5",h3:"editorH3_dG1S",h4:"editorH4_QxYJ",h5:"editorH5_cK2Z"},list:{nested:{listitem:"editorNestedListItem_dkfI"},ol:"editorOList_ALAl",ul:"editorUList_HtHL",listitem:"editorListItem_aNug"},link:"editorLink_WykR",text:{bold:"editorTextBold_jGug",italic:"editorTextItalic_zscZ",underline:"editorTextUnderline_ws7Z",strikethrough:"editorTextStrikethrough_kSUe",underlineStrikethrough:"editorTextUnderlineStrikethrough_vK1R",code:"editorTextCode_KBvZ"},image:"editorImage_SEl5",code:"editorCode_JD40",codeHighlight:{atrule:Yt,attr:Yt,boolean:Ht,builtin:Wt,cdata:qt,char:Wt,class:Xt,"class-name":Xt,comment:qt,constant:Ht,deleted:Ht,doctype:qt,entity:Gt,function:Xt,important:Zt,inserted:Wt,keyword:Yt,namespace:Zt,number:Ht,operator:Gt,prolog:qt,property:Ht,punct:"editorTokenPunctuation_j1nM",regex:Zt,selector:Wt,string:Wt,symbol:Ht,tag:Ht,url:Gt,variable:Zt}},Vt="navContainer_OGS4",en="navItem_J1en",tn="active_WzCq",nn="rootItem_akss",sn="childrenList_Bxbi",rn="itemTitle_ed9X",on="itemActions_alYv",an=({onAddNew:e})=>{const{documents:t,activeDocumentId:n,setActiveDocumentId:s}=(0,_.u)(),i=r=>{const o=t.filter(e=>e.parentId===r.id);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:`${en} ${r.parentId?"":nn} ${r.id===n?tn:""}`,onClick:()=>s(r.id),children:[(0,b.jsx)("span",{className:rn,title:r.title||"Untitled Page",children:r.title||"Untitled Page"}),(0,b.jsx)("div",{className:on,children:(0,b.jsx)(v.$,{design:"Transparent",icon:"add",onClick:t=>{(e=>{e.stopPropagation()})(t),e(r.id)},tooltip:"Add sub-page"})})]}),o.length>0&&(0,b.jsx)("ul",{className:sn,children:o.map(e=>(0,b.jsx)("li",{children:i(e)},e.id))})]},r.id)},r=t.filter(e=>null===e.parentId);return(0,b.jsx)("div",{className:Vt,children:r.map(e=>i(e))})};var ln=n(44586),cn=n(56347);n(2954);const dn="overlay_CdmC",un="modal_n3OA",hn="progressContainer_VBC5",mn="rocket_izUw",gn="rocketLaunched_YC5v",pn="punText_r9iG",xn="fireworks_kkrq",fn="resultContainer_IKiQ",jn="errorMessage_vKPx",vn="buttonGroup_Kvbk",_n={forking:"Charting the course to the cosmos...",packaging:"Securing the payload for orbit...",committing:"Final countdown engaged... ignition!"};function Cn({status:e,error:t,commitUrl:n,onClose:s,onSuccessFinish:i}){if("idle"===e)return null;const r="forking"===e||"packaging"===e||"committing"===e,o="success"===e?`${mn} ${gn}`:mn;return(0,b.jsx)("div",{className:dn,children:(0,b.jsxs)("div",{className:un,children:["success"===e&&(0,b.jsx)("img",{src:"/img/fireworks.gif",alt:"Success fireworks",className:xn}),r&&(0,b.jsxs)("div",{className:hn,children:[(0,b.jsx)("h2",{children:"Preparing for Liftoff"}),(0,b.jsx)("img",{src:"/img/rocket.gif",alt:"Rocket preparing for launch",className:o}),(0,b.jsx)("p",{className:pn,children:_n[e]})]}),"success"===e&&(0,b.jsxs)("div",{className:fn,children:[(0,b.jsx)("img",{src:"/img/rocket.gif",alt:"Rocket launching",className:o}),(0,b.jsx)("h3",{children:"We Have Liftoff!"}),(0,b.jsx)("p",{children:"Your document has been published successfully."}),(0,b.jsx)("div",{className:vn,children:(0,b.jsx)(v.$,{design:"Emphasized",onClick:i,children:"View on GitHub & Finish"})})]}),"error"===e&&(0,b.jsxs)("div",{className:fn,children:[(0,b.jsx)("h3",{children:"Mission Aborted"}),(0,b.jsx)("p",{className:jn,children:t||"An unknown error occurred."}),(0,b.jsx)(v.$,{onClick:s,children:"Return to Hangar"})]})]})})}const kn=(e,t)=>{const n=t.find(t=>t.id===e);if(!n)return null;const s=t.filter(t=>t.parentId===e).map(e=>kn(e.id,t)).filter(Boolean);return{...n,children:s}},Nn=e=>({id:e.id,editorState:e.editorState,parentId:e.parentId,children:e.children?e.children.map(Nn):[],metadata:{title:e.title,tags:e.tags,authors:e.authors,contributors:e.contributors,description:e.description||"This is a default description."}});function yn(){return(0,b.jsx)("div",{className:$t,children:"Type / to get started"})}const bn=[g.jL,g.dJ,p.v5,p.YW,x.iK,x.yy,f.HA,f.B9,f.py,j.k_,j.Db,A,Oe,it],wn=()=>{const[e]=(0,m.DF)(),{getActiveDocument:t,updateDocument:n}=(0,_.u)();return(0,b.jsx)(h.D,{onChange:e=>{const s=t();if(s){const t=JSON.stringify(e.toJSON());t!==s.editorState&&n(s.id,{editorState:t})}}})},Sn=e=>new Promise(t=>setTimeout(t,e)),An=({onAddNew:e})=>{const{getActiveDocument:t,saveState:n,lastSaveTimestamp:h,deleteDocument:m,documents:g,resetStore:p}=(0,_.u)(),[x,f]=(0,s.useState)(!1),[j,C]=(0,s.useState)(!1),k=t(),{siteConfig:N}=(0,ln.A)(),{expressBackendUrl:y}=N.customFields,[w,S]=(0,s.useState)({stage:"idle",error:null,commitUrl:null}),A=(0,cn.W6)();if(!k)return null;const T={namespace:"MyEditor",theme:Qt,onError(e){throw e},nodes:bn,editorState:k.editorState||null};return(0,b.jsxs)(i.n,{initialConfig:T,children:[(0,b.jsxs)("div",{className:Tt,children:[(0,b.jsx)("div",{className:It,children:(0,b.jsx)(an,{onAddNew:e})}),(0,b.jsxs)("div",{className:Dt,children:[(0,b.jsxs)("div",{className:Mt,children:[h&&(0,b.jsxs)("span",{className:Ot,children:["Last saved: ",h]}),(0,b.jsxs)("div",{className:Bt,children:[(0,b.jsx)(v.$,{design:"Emphasized",icon:"paper-plane",onClick:async()=>{if(C(!0),S({stage:"forking",error:null,commitUrl:null}),!k)return alert("No active document to publish."),void C(!1);const e=((e,t)=>{let n=t.find(t=>t.id===e);if(!n)return null;for(;n.parentId;){const e=t.find(e=>e.id===n.parentId);if(!e)break;n=e}return n})(k.id,g);if(!e)return alert("Could not find the root document for publishing."),void C(!1);const t=kn(e.id,g);if(!t)return alert("Could not construct the document tree."),void C(!1);const n=Nn(t),s={document:JSON.stringify(n)};await Sn(3e3),S(e=>({...e,stage:"packaging"})),await Sn(5e3),S(e=>({...e,stage:"committing"}));try{const e=localStorage.getItem("jwt_token");if(!e)return void alert("Authentication error: You are not logged in. Please log in again.");const t=await fetch(`${y}/api/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(s)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to publish to GitHub.");S({stage:"success",error:null,commitUrl:n.commitUrl})}catch(i){console.error("Publishing failed:",i),console.error("Publishing failed:",i),S({stage:"error",error:i.message,commitUrl:null})}finally{C(!1)}},disabled:j,children:j?"Submitting...":"Submit"}),(0,b.jsx)(v.$,{design:"Default",icon:"save",onClick:n,children:"Save"}),k&&(0,b.jsx)(v.$,{design:"Negative",icon:"delete",onClick:()=>f(!0),tooltip:"Delete current document",children:"Delete"})]})]}),(0,b.jsxs)("div",{className:Lt,children:[(0,b.jsx)(Pe,{mode:"fixed"}),(0,b.jsx)(Pe,{mode:"floating"}),(0,b.jsxs)("div",{className:zt,children:[(0,b.jsx)(r.$,{contentEditable:(0,b.jsx)(o.a,{className:Pt}),placeholder:(0,b.jsx)(yn,{}),ErrorBoundary:c.R}),(0,b.jsx)(a.G,{}),(0,b.jsx)(l.x,{}),(0,b.jsx)(d.Q,{}),(0,b.jsx)(u.W,{}),(0,b.jsx)(z,{}),(0,b.jsx)(Je,{}),(0,b.jsx)(bt,{}),(0,b.jsx)(wt,{}),(0,b.jsx)(St,{}),(0,b.jsx)(wn,{}),(0,b.jsx)(At,{})]})]})]}),(0,b.jsx)("div",{className:Et,children:(0,b.jsx)(dt,{})})]}),x&&k&&(0,b.jsx)("div",{className:Jt,children:(0,b.jsxs)("div",{className:Rt,children:[(0,b.jsx)("h3",{className:Ft,children:"Delete Document"}),(0,b.jsxs)("p",{className:Ut,children:['Are you sure you want to delete "',k.title||"Untitled Page",'"?',(0,b.jsx)("br",{}),"This action cannot be undone."]}),(0,b.jsxs)("div",{className:Kt,children:[(0,b.jsx)(v.$,{design:"Default",onClick:()=>f(!1),children:"Cancel"}),(0,b.jsx)(v.$,{design:"Negative",onClick:()=>{m(k.id),f(!1)},children:"Delete"})]})]})}),(0,b.jsx)(Cn,{status:w.stage,error:w.error,commitUrl:w.commitUrl,onClose:()=>{S({stage:"idle",error:null,commitUrl:null})},onSuccessFinish:()=>{w.commitUrl&&window.open(w.commitUrl,"_blank","noopener,noreferrer"),p(),A.push("/")}})]})}},35520:(e,t,n)=>{n.d(t,{A:()=>s});const s={pageContainer:"pageContainer_rN19",noDocumentSelected:"noDocumentSelected_TLLd"}},40583:(e,t,n)=>{n.d(t,{u:()=>l});var s=n(59836),i=n(9410),r=n(87134);const o={getItem:e=>"undefined"==typeof window?null:localStorage.getItem(e),setItem:(e,t)=>{"undefined"!=typeof window&&localStorage.setItem(e,t)},removeItem:e=>{"undefined"!=typeof window&&localStorage.removeItem(e)}},a=(e,t)=>{if(!t)return null;for(const n of e){if(n.id===t)return n;if(n.children){const e=a(n.children,t);if(e)return e}}return null},l=(0,s.v)()((0,r.Zr)((e,t)=>({documents:[],lastSaveTimestamp:null,activeDocumentId:null,getDocuments:()=>t().documents,getActiveDocument:()=>{const{documents:e,activeDocumentId:n}=t(),s=a(e,n);return s?JSON.parse(JSON.stringify(s)):null},setActiveDocumentId:t=>e({activeDocumentId:t}),addDocument:(t,n=null)=>{const s={...t,id:(0,i.A)(),editorState:null,parentId:n};e(e=>({documents:[...e.documents,s],activeDocumentId:s.id,lastSaveTimestamp:(new Date).toLocaleString()}))},updateDocument:(t,n)=>{e(e=>({documents:e.documents.map(e=>e.id===t?{...e,...n}:e),lastSaveTimestamp:(new Date).toLocaleString()}))},deleteDocument:t=>{e(e=>{const n=e.documents.filter(e=>e.id!==t&&e.parentId!==t);let s=e.activeDocumentId;return e.activeDocumentId===t&&(s=n.length>0?n[0].id:null),{documents:n,activeDocumentId:s,lastSaveTimestamp:(new Date).toLocaleString()}})},resetStore:()=>{e({documents:[],lastSaveTimestamp:null,activeDocumentId:null})}}),{name:"docusaurus-editor-content",storage:(0,r.KU)(()=>o),onRehydrateStorage:()=>e=>{e&&(e.activeDocumentId=e.documents[0]?.id||null)},partialize:e=>({documents:e.documents,lastSaveTimestamp:e.lastSaveTimestamp})}))},42992:(e,t,n)=>{n.d(t,{A:()=>_});var s=n(96540),i=n(74395),r=n(74983),o=n(68043),a=n(56658),l=n(50546),c=n(6561),d=n(57839),u=n(20938),h=n(9680),m=n(89068),g=n(12117),p=n(59359),x=n(81688),f=n(82295),j=n(66588),v=n(74848);function _({open:e,initialData:t,onDataChange:n,onSave:_,onCancel:C}){const{user:k}=(0,f.A)(),[N,y]=(0,s.useState)(""),b=(0,j.Ay)()["docusaurus-tags"].default.tags||{};console.log(b);const{availableTags:w,labelToKeyMap:S}=(0,s.useMemo)(()=>{if(!b||0===Object.keys(b).length)return{availableTags:[],labelToKeyMap:new Map};const e=Object.entries(b).filter(([e])=>"demo"!==e).map(([e,t])=>({key:e,label:t.label,description:t.description})),t=new Map(e.map(e=>[e.label,e.key]));return{availableTags:e,labelToKeyMap:t}},[b]),A=t?.title?.trim().length>0&&t?.tags?.length>0;return(0,v.jsx)(o.l,{open:e,style:{width:"650px"},header:(0,v.jsx)(i.y,{children:(0,v.jsx)(p.h,{children:"Create New Reference Architecture"})}),footer:(0,v.jsx)(i.y,{endContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.$,{onClick:C,children:"Cancel"}),(0,v.jsx)(r.$,{design:"Emphasized",onClick:_,disabled:!A,children:"Create"})]})}),children:(0,v.jsxs)(a.l,{style:{padding:"1rem"},children:[(0,v.jsx)(l.e,{labelContent:(0,v.jsx)(d.J,{required:!0,children:"Title"}),children:(0,v.jsx)(c.p,{value:t?.title||"",onInput:e=>n({title:e.target.value}),required:!0,placeholder:"Add your title..."})}),(0,v.jsx)(l.e,{labelContent:(0,v.jsx)(d.J,{children:"Description"}),children:(0,v.jsx)(g.f,{style:{minHeight:"80px",width:"100%"},value:t?.description||"",onInput:e=>n({description:e.target.value}),placeholder:"Add a short description (max 300 characters)..."})}),(0,v.jsx)(l.e,{labelContent:(0,v.jsx)(d.J,{required:!0,children:"Author"}),children:(0,v.jsx)(c.p,{value:k?.username||"Loading...",readonly:!0})}),(0,v.jsx)(l.e,{labelContent:(0,v.jsx)(d.J,{children:"Contributors"}),children:(0,v.jsx)(m.g,{value:N,onInput:e=>y(e.target.value),onChange:e=>{const s=e.target.value.trim();if(s&&!t?.contributors?.includes(s)){const e=[...t?.contributors||[],s];n({contributors:e})}y("")},onTokenDelete:e=>{const s=e.detail.tokens;if(s&&s.length>0){const e=s[0].text,i=(t?.contributors||[]).filter(t=>t!==e);n({contributors:i})}},tokens:t?.contributors?.map(e=>(0,v.jsx)(x.o,{text:e},e))||[],placeholder:"Add more contributors (optional)..."})}),(0,v.jsx)(l.e,{labelContent:(0,v.jsx)(d.J,{required:!0,children:"Tags"}),children:(0,v.jsx)(u.n,{onSelectionChange:e=>{const t=e.detail.items.map(e=>e.text).map(e=>S.get(e)).filter(Boolean);n({tags:t})},placeholder:"Select at least one tag...",children:w.map(e=>(0,v.jsx)(h.e,{text:e.label,selected:t?.tags.includes(e.key)},e.key))})})]})})}},45762:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.r(t),n.d(t,{default:()=>_});var i=n(96540),r=n(8768),o=n(78478),a=n(35520),l=n(56347),c=n(44586),d=n(40583),u=n(42992),h=n(70504),m=n(82295),g=n(74848),p=e([r,h]),x=p.then?(await p)():p;function j({onAddNew:e}){const t=(0,d.u)(e=>e.activeDocumentId);return t?(0,g.jsx)(o.A,{children:()=>{const s=n(4437).A;return(0,g.jsx)(s,{onAddNew:e},t)}}):(0,g.jsx)("div",{className:a.A.noDocumentSelected,children:"Please select or create a document."})}r=x[0],h=x[1];const v={title:"",tags:[],authors:[],contributors:[]};function _(){const[e,t]=(0,i.useState)(!1),[n,s]=(0,i.useState)(v),[o,p]=(0,i.useState)(null),{documents:x,addDocument:f}=(0,d.u)(),_=(0,l.W6)(),{siteConfig:C}=(0,c.A)(),k=C.baseUrl,{user:N}=(0,m.A)();(0,i.useEffect)(()=>{0===x.length&&y(null)},[x.length]);const y=(e=null)=>{const n={...v,authors:N?[N.username]:[],contributors:N?[N.username]:[]};s(n),p(e),t(!0)};return(0,g.jsx)(r.A,{children:(0,g.jsxs)(h.A,{children:[(0,g.jsx)(u.A,{open:e,initialData:n,onDataChange:e=>s(t=>({...t,...e})),onSave:()=>{f(n,o),t(!1)},onCancel:()=>{0===x.length&&_.push(k),t(!1)}}),(0,g.jsx)("main",{className:a.A.pageContainer,children:(0,g.jsx)(j,{onAddNew:y})})]})})}s()}catch(f){s(f)}})},70504:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.d(t,{A:()=>m});n(96540);var i=n(82295),r=n(44586),o=n(56347),a=n(8768),l=n(74848),c=e([a]),d=c.then?(await c)():c;function h({provider:e}){return(0,l.jsx)(a.A,{children:(0,l.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:(0,l.jsxs)("h2",{children:["Redirecting to ",e?`${e.toUpperCase()} `:"","login..."]})})})}function m({children:e}){const{user:t,users:n,loading:s}=(0,i.A)(),{siteConfig:c}=(0,r.A)(),d=(0,o.zy)(),{backendUrl:u,authProviders:m}=c.customFields;if(s)return(0,l.jsx)(a.A,{children:(0,l.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:(0,l.jsx)("h2",{children:"Loading User..."})})});if(t){const s=m[d.pathname];if(s){if(!(null!==n[s]))return(0,l.jsx)(a.A,{children:(0,l.jsxs)("div",{style:{padding:"2rem",textAlign:"center"},children:[(0,l.jsx)("h2",{children:"Access Denied"}),(0,l.jsxs)("p",{children:["This page requires you to be logged in with ",s.toUpperCase(),". You are currently logged in with ",t.provider.toUpperCase(),"."]}),(0,l.jsx)("p",{children:"Please log out and log in with the correct provider."})]})})}return(0,l.jsx)(l.Fragment,{children:e})}if(!t){const e=m[d.pathname];if(e){if("undefined"!=typeof window){const t=d.pathname+d.search,n=`${u}/user/login?origin_uri=${encodeURIComponent(t)}&provider=${e}`;window.location.href=n}return(0,l.jsx)(h,{provider:e})}}return(0,l.jsx)(l.Fragment,{children:e})}a=d[0],s()}catch(u){s(u)}})}}]);