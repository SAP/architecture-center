"use strict";(globalThis.webpackChunksap_architecture_center=globalThis.webpackChunksap_architecture_center||[]).push([[9727],{3985:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(96540),s=n(44263),i=n(78478);const o={pageContainer:"pageContainer_rN19",noDocumentSelected:"noDocumentSelected_TLLd"};var a=n(56347),l=n(44586),c=n(40583),d=n(68043),u=n(74395),h=n(59359),m=n(74983),g=n(56658),p=n(50546),x=n(57839),j=n(6561),f=n(12117),v=n(64060),C=n(35476),k=n(48515),b=n(9680),y=n(74865),_=n(79552),N=n(66588),w=n(74848);const S=r.memo(function({open:e,initialData:t,onDataChange:n,onSave:s,onCancel:i}){const{siteConfig:o}=(0,l.A)(),{user:a,token:c}=(0,_.A)(),[S,T]=(0,r.useState)(""),[I,A]=(0,r.useState)([]),[D,E]=(0,r.useState)(!1),[L,P]=(0,r.useState)({}),F=(0,N.P_)("docusaurus-tags"),U=F?.tags||{},$=o.customFields?.expressBackendUrl,{availableTags:z,labelToKeyMap:M}=(0,r.useMemo)(()=>{if(!U||0===Object.keys(U).length)return{availableTags:[],labelToKeyMap:new Map};const e=Object.entries(U).map(([e,t])=>({key:e,label:t.label,description:t.description,count:t.count})),t=new Map(e.map(e=>[e.label,e.key]));return{availableTags:e,labelToKeyMap:t}},[U]),R=(0,r.useRef)(null),H=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!$||S.trim().length<3)return A([]),void E(!1);E(!0);const e=setTimeout(()=>{B()},200);return()=>{clearTimeout(e),R.current&&R.current.abort()}},[S,t.contributors,$,c]),(0,r.useEffect)(()=>{!D&&I.length>0&&H.current&&(H.current.open=!0)},[D,I]),(0,r.useEffect)(()=>{const e={...L};I.forEach(t=>{e[t.login]||(e[t.login]=t.avatar_url)}),P(e)},[I]);const B=async()=>{R.current&&R.current.abort(),R.current=new AbortController;const e=R.current.signal;try{const n=`${$}/user/github/search-users?q=${S}`,r=await fetch(n,{headers:{Authorization:`Bearer ${c}`},cache:"no-store",signal:e});if(!r.ok)throw new Error("Failed to fetch users");const s=await r.json();console.log("Fetched user data:",s);const i=new Set(t.contributors||[]),o=s.items.filter(e=>!i.has(e.login));A(o)}catch(n){"AbortError"!==n.name&&(console.error("Error searching for contributors:",n),A([]))}finally{E(!1),R.current=null}},J=(0,r.useMemo)(()=>{const e=new Map;return t.contributors?.forEach(t=>{e.set(t,{id:t,login:t,avatar_url:L[t]})}),I.forEach(t=>{e.set(t.login,{id:t.id,login:t.login,avatar_url:t.avatar_url})}),Array.from(e.values())},[I,t.contributors,L]),O=t?.title?.trim().length>0&&t?.tags?.length>0;return(0,w.jsx)(d.l,{open:e,style:{width:"650px"},header:(0,w.jsx)(u.y,{children:(0,w.jsx)(h.h,{children:"Create New Reference Architecture"})}),footer:(0,w.jsx)(u.y,{endContent:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.$,{design:"Emphasized",onClick:s,disabled:!O,children:"Create"}),(0,w.jsx)(m.$,{onClick:i,children:"Cancel"})]})}),children:(0,w.jsxs)(g.l,{style:{padding:"1rem"},children:[(0,w.jsx)(p.e,{labelContent:(0,w.jsx)(x.J,{required:!0,children:"Title"}),children:(0,w.jsx)(j.p,{value:t?.title||"",onInput:e=>n({title:e.target.value}),required:!0,placeholder:"Add your title..."})}),(0,w.jsx)(p.e,{labelContent:(0,w.jsx)(x.J,{children:"Description"}),children:(0,w.jsx)(f.f,{style:{minHeight:"80px",width:"100%"},value:t?.description||"",onInput:e=>n({description:e.target.value}),placeholder:"Add a short description (max 300 characters)..."})}),(0,w.jsx)(p.e,{labelContent:(0,w.jsx)(x.J,{required:!0,children:"Author"}),children:(0,w.jsxs)(v.p,{alignItems:"Center",children:[(0,w.jsx)("img",{src:a.avatar,alt:a.username,style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),(0,w.jsx)(C.E,{style:{marginLeft:"0.5rem"},children:a?.username||"Loading..."})]})}),(0,w.jsx)(p.e,{labelContent:(0,w.jsx)(x.J,{children:"Contributors"}),children:(0,w.jsxs)(k.n,{ref:H,filter:"None",placeholder:"Search or add a GitHub username...",noValidation:!0,value:S,onInput:e=>{T(e.target.value||"")},onSelectionChange:e=>{const t=e.detail.items||[];n({contributors:t.map(e=>e.text)})},onKeyDown:async e=>{if("Enter"===e.key&&S.trim()){e.preventDefault();const r=S.trim(),s=t.contributors||[];if(!s.includes(r)&&(n({contributors:[...s,r]}),!L[r])){const e=await(async e=>{try{const t=`${$}/github/user/${encodeURIComponent(e)}`,n=await fetch(t,{headers:{Authorization:`Bearer ${c}`},cache:"no-store"});if(!n.ok)throw new Error("Failed to fetch user");return(await n.json()).avatar_url||null}catch(t){return console.error("Error fetching single user:",t),null}})(r);e&&P(t=>({...t,[r]:e}))}T(""),A([])}},disabled:!$,children:[D&&(0,w.jsx)(b.e,{text:"Searching..."}),!D&&J.map(e=>(0,w.jsx)(b.e,{text:e.login,selected:t.contributors?.includes(e.login),children:(0,w.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,w.jsx)(y.e,{size:"XS",icon:e.avatar_url}),(0,w.jsx)("span",{children:e.login})]})},e.id))]})}),(0,w.jsx)(p.e,{labelContent:(0,w.jsx)(x.J,{required:!0,children:"Tags"}),children:(0,w.jsx)(k.n,{onSelectionChange:e=>{const t=e.detail.items.map(e=>{const t=e.text.replace(/ \(\d+\)$/,"");return M.get(t)}).filter(e=>!!e);n({tags:t})},placeholder:"Select at least one tag...",children:z.map(e=>(0,w.jsx)(b.e,{text:`${e.label} (${e.count})`,selected:t?.tags.includes(e.key)},e.key))})})]})})});function T({provider:e}){return(0,w.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:(0,w.jsxs)("h2",{children:["Redirecting to ",e?`${e.toUpperCase()} `:"","login..."]})})}function I({children:e}){const{user:t,users:n,loading:r}=(0,_.A)(),{siteConfig:s}=(0,l.A)(),i=(0,a.zy)(),{backendUrl:o,authProviders:c}=s.customFields;if(r)return(0,w.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:(0,w.jsx)("h2",{children:"Loading User..."})});if(t){const r=c[i.pathname];if(r){if(!(null!==n[r]))return(0,w.jsxs)("div",{style:{padding:"2rem",textAlign:"center"},children:[(0,w.jsx)("h2",{children:"Access Denied"}),(0,w.jsxs)("p",{children:["This page requires you to be logged in with ",r.toUpperCase(),". You are currently logged in with ",t.provider.toUpperCase(),"."]}),(0,w.jsx)("p",{children:"Please log out and log in with the correct provider."})]})}return(0,w.jsx)(w.Fragment,{children:e})}if(!t){const e=c[i.pathname];if(e){if("undefined"!=typeof window){const t=i.pathname+i.search,n=`${o}/user/login?origin_uri=${encodeURIComponent(t)}&provider=${e}`;window.location.href=n}return(0,w.jsx)(T,{provider:e})}}return(0,w.jsx)(w.Fragment,{children:e})}function A({onAddNew:e}){const t=(0,c.u)(e=>e.activeDocumentId);return t?(0,w.jsx)(i.A,{children:()=>{const r=n(48827).A;return(0,w.jsx)(r,{onAddNew:e},t)}}):(0,w.jsx)("div",{className:o.noDocumentSelected,children:"Please select or create a document."})}const D={title:"",tags:[],authors:[],contributors:[]};function E(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(D),[d,u]=(0,r.useState)(null),{documents:h,addDocument:m}=(0,c.u)(),g=(0,a.W6)(),{siteConfig:p}=(0,l.A)(),x=p.baseUrl,{user:j}=(0,_.A)();(0,r.useEffect)(()=>{0===h.length&&f(null)},[h.length]);const f=(e=null)=>{const n={...D,authors:j?[j.username]:[],contributors:j?[j.username]:[]};i(n),u(e),t(!0)};return(0,w.jsx)(s.A,{children:(0,w.jsxs)(I,{children:[(0,w.jsx)(S,{open:e,initialData:n,onDataChange:e=>i(t=>({...t,...e})),onSave:()=>{m(n,d),t(!1)},onCancel:()=>{0===h.length&&g.push(x),t(!1)}}),(0,w.jsx)("main",{className:o.pageContainer,children:(0,w.jsx)(A,{onAddNew:f})})]})})}},40583:(e,t,n)=>{n.d(t,{u:()=>l});var r=n(59836),s=n(9410),i=n(87134);const o={getItem:e=>"undefined"==typeof window?null:localStorage.getItem(e),setItem:(e,t)=>{"undefined"!=typeof window&&localStorage.setItem(e,t)},removeItem:e=>{"undefined"!=typeof window&&localStorage.removeItem(e)}},a=(e,t)=>{if(!t)return null;for(const n of e){if(n.id===t)return n;if(n.children){const e=a(n.children,t);if(e)return e}}return null},l=(0,r.v)()((0,i.Zr)((e,t)=>({documents:[],lastSaveTimestamp:null,activeDocumentId:null,getDocuments:()=>t().documents,getActiveDocument:()=>{const{documents:e,activeDocumentId:n}=t(),r=a(e,n);return r?JSON.parse(JSON.stringify(r)):null},setActiveDocumentId:t=>e({activeDocumentId:t}),addDocument:(t,n=null)=>{const r={...t,id:(0,s.A)(),editorState:null,parentId:n};e(e=>({documents:[...e.documents,r],activeDocumentId:r.id,lastSaveTimestamp:(new Date).toLocaleString()}))},updateDocument:(t,n)=>{e(e=>({documents:e.documents.map(e=>e.id===t?{...e,...n}:e),lastSaveTimestamp:(new Date).toLocaleString()}))},deleteDocument:t=>{e(e=>{const n=e.documents.filter(e=>e.id!==t&&e.parentId!==t);let r=e.activeDocumentId;return e.activeDocumentId===t&&(r=n.length>0?n[0].id:null),{documents:n,activeDocumentId:r,lastSaveTimestamp:(new Date).toLocaleString()}})},resetStore:()=>{e({documents:[],lastSaveTimestamp:null,activeDocumentId:null})}}),{name:"docusaurus-editor-content",storage:(0,i.KU)(()=>o),onRehydrateStorage:()=>e=>{e&&(e.activeDocumentId=e.documents[0]?.id||null)},partialize:e=>({documents:e.documents,lastSaveTimestamp:e.lastSaveTimestamp})}))},48827:(e,t,n)=>{n.d(t,{A:()=>Pn});var r=n(96540),s=(n(19950),n(6246)),i=n(22038),o=n(60083),a=n(32708),l=n(12532),c=n(59798),d=n(90043),u=n(53439),h=n(45838),m=n(94439),g=n(66940),p=n(29325),x=n(9765),j=n(25035),f=n(61497),v=n(74983),C=n(68043),k=n(74395),b=n(59359),y=n(40583),_=n(79552),N=n(48832),w=n(99393);const S="image_buwF",T="focused_pOvt";var I=n(74848);function A({src:e,altText:t,nodeKey:n,width:s,height:i}){const[o,a,l]=(0,w.Y)(n),[c]=(0,m.DF)(),d=(0,r.useCallback)(e=>{e.preventDefault(),o?l():(l(),a(!0))},[o,l,a]);return(0,I.jsx)("div",{draggable:!1,onClick:d,onContextMenu:d,children:(0,I.jsx)("img",{src:e,alt:t,className:o?`${S} ${T}`:S})})}function D(e){if(e instanceof HTMLImageElement){const{alt:t,src:n}=e;return{node:L({altText:t,src:n})}}return null}class E extends N.Kp7{static getType(){return"image"}static clone(e){return new E(e.__src,e.__altText,e.__width,e.__height,e.__key)}static importJSON(e){const{altText:t,height:n,width:r,src:s}=e;return L({altText:t,height:n,width:r,src:s})}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),{element:e}}static importDOM(){return{img:e=>({conversion:D,priority:0})}}createDOM(e){const t=document.createElement("span"),n=e.theme.image;return void 0!==n&&(t.className=n),t}updateDOM(){return!1}constructor(e,t,n,r,s){super(s),this.__src=e,this.__altText=t,this.__width=n||"inherit",this.__height=r||"inherit"}exportJSON(){return{altText:this.getAltText(),height:"inherit"===this.__height?0:this.__height,src:this.getSrc(),type:"image",version:1,width:"inherit"===this.__width?0:this.__width}}getSrc(){return this.__src}getAltText(){return this.__altText}decorate(){return(0,I.jsx)(A,{src:this.__src,altText:this.__altText,nodeKey:this.getKey(),width:this.__width,height:this.__height})}}function L({altText:e,height:t,src:n,width:r,key:s}){return(0,N.pTq)(new E(n,e,r,t,s))}const P=(0,N.guI)("INSERT_IMAGE_COMMAND"),F=(0,N.guI)("TOGGLE_IMAGE_DIALOG"),U=(0,N.guI)("INSERT_DRAWIO_COMMAND"),$=(0,N.guI)("OPEN_DRAWIO_DIALOG");function z(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!e.hasNodes([E]))throw new Error("ImagePlugin: ImageNode not registered on editor");const n=e.registerCommand(P,t=>(e.update(()=>{const e=(0,N.vJq)();if((0,N.I2P)(e)){const n=L(t);e.insertNodes([n])}}),!0),N.jZM),r=e.registerCommand(F,()=>(t.current?.click(),!0),N.jZM);return()=>{n(),r()}},[e]),(0,I.jsx)("input",{type:"file",accept:"image/*",onChange:async n=>{const r=n.target.files?.[0];if(r)try{const t=await function(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{"string"==typeof r.result?t(r.result):n(new Error("FileReader did not return a string."))},r.onerror=n,r.readAsDataURL(e)})}(r);e.dispatchCommand(P,{src:t,altText:r.name})}catch(s){console.error("Error reading file:",s)}t.current&&(t.current.value="")},ref:t,style:{display:"none"}})}var M=n(27639),R=n(75107),H=n(35257),B=n(24256),J=n(39383),O=n(56265),q=n(80697),K=n(59612),W=n(96166),Y=n(28117),G=n(84390),Q=n(84009),V=n(62345),Z=n(17050),X=n(93164),ee=n(44854),te=n(46071),ne=n(70861),re=n(90737),se=n(31845),ie=n(69308),oe=n(87332),ae=n(92919),le=n(29669),ce=n(70820),de=n(6388),ue=n(70306),he=n(61885);const me={name:"File",icon:(0,I.jsx)(Y.A,{size:20}),keywords:["file","upload","import","attach","document","docx"],onSelect:e=>{const t=document.createElement("input");t.type="file",t.accept=".txt,.md,.docx",t.style.display="none",t.onchange=n=>{const r=n.target,s=r.files?.[0];if(!s)return;const i=new FileReader;s.name.endsWith(".docx")?(i.readAsArrayBuffer(s),i.onload=async t=>{const n=t.target?.result;if(n)try{const t={convertImage:ue.images.imgElement(()=>({}))},r=(await ue.aY({arrayBuffer:n},t)).value;e.update(()=>{const t=(new DOMParser).parseFromString(r,"text/html"),n=(0,he.d)(e,t),s=(0,N.vJq)();(0,N.I2P)(s)&&s.insertNodes(n)})}catch(r){console.error("Error converting .docx file:",r),alert("Could not process the .docx file. It may be corrupted or in an unsupported format.")}}):(i.readAsText(s),i.onload=t=>{const n=t.target?.result;n&&e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&e.insertText(n)})}),i.onerror=e=>{console.error("Error reading file:",e),alert("An error occurred while reading the file.")},document.body.removeChild(t)},document.body.appendChild(t),t.click()}},ge="fixedToolbar_zdje",pe="group_TNAd",xe="button_wYbC",je="dropdownToggle_RWSU",fe="active_n929",ve="divider_Ed_Y",Ce="dropdown_K52p",ke="dropdownMenu_jzM1",be="dropdownItem_LvaA",ye="dropdownMenuRight_sARw",_e={h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",paragraph:"Paragraph",quote:"Quote",ul:"Bulleted List",ol:"Numbered List"};function Ne(e,t){(0,r.useEffect)(()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[e,t])}function we({editor:e,blockType:t}){const n=(0,r.useRef)(null),[s,i]=(0,r.useState)(!1);Ne(n,()=>i(!1));const o=t=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.zI)(e,()=>(0,g.fi)(t))}),i(!1)};return(0,I.jsxs)("div",{className:Ce,ref:n,children:[(0,I.jsxs)("button",{className:je,onClick:()=>i(e=>!e),children:[_e[t]||"Paragraph",(0,I.jsx)(R.A,{size:16})]}),s&&(0,I.jsxs)("div",{className:ke,children:[(0,I.jsxs)("button",{className:be,onClick:()=>o("h1"),children:[(0,I.jsx)(H.A,{size:18}),(0,I.jsx)("span",{children:"Heading 1"})]}),(0,I.jsxs)("button",{className:be,onClick:()=>o("h2"),children:[(0,I.jsx)(B.A,{size:18}),(0,I.jsx)("span",{children:"Heading 2"})]}),(0,I.jsxs)("button",{className:be,onClick:()=>o("h3"),children:[(0,I.jsx)(J.A,{size:18}),(0,I.jsx)("span",{children:"Heading 3"})]}),(0,I.jsxs)("button",{className:be,onClick:()=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.zI)(e,()=>(0,g.xi)())}),i(!1)},children:[(0,I.jsx)(O.A,{size:18}),(0,I.jsx)("span",{children:"Quote"})]})]})]})}function Se({editor:e}){const t=(0,r.useRef)(null),[n,s]=(0,r.useState)(!1);Ne(t,()=>s(!1));return(0,I.jsxs)("div",{className:Ce,ref:t,children:[(0,I.jsxs)("button",{className:xe,onClick:()=>s(e=>!e),children:[(0,I.jsx)(q.A,{size:16}),(0,I.jsx)("span",{style:{marginLeft:"4px"},children:"Insert"})]}),n&&(0,I.jsxs)("div",{className:`${ke} ${ye}`,children:[(0,I.jsxs)("button",{className:be,onClick:()=>{e.dispatchCommand(F,void 0),s(!1)},children:[(0,I.jsx)(K.A,{size:18}),(0,I.jsx)("span",{children:"Image"})]}),(0,I.jsxs)("button",{className:be,onClick:()=>{e.dispatchCommand($,void 0),s(!1)},children:[(0,I.jsx)(W.A,{size:18}),(0,I.jsx)("span",{children:"Draw.io Diagram"})]}),(0,I.jsxs)("button",{className:be,onClick:()=>{me.onSelect(e),s(!1)},children:[(0,I.jsx)(Y.A,{size:18}),(0,I.jsx)("span",{children:"File"})]})]})]})}function Te({isBold:e,isItalic:t,isUnderline:n,isStrikethrough:r,isCode:s,isLink:i,onLinkClick:o}){const[a]=(0,m.DF)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("button",{onClick:()=>a.dispatchCommand(N.mB,"bold"),className:`${xe} ${e?fe:""}`,title:"Bold (Ctrl+B)",children:(0,I.jsx)(G.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>a.dispatchCommand(N.mB,"italic"),className:`${xe} ${t?fe:""}`,title:"Italic (Ctrl+I)",children:(0,I.jsx)(Q.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>a.dispatchCommand(N.mB,"underline"),className:`${xe} ${n?fe:""}`,title:"Underline (Ctrl+U)",children:(0,I.jsx)(V.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>a.dispatchCommand(N.mB,"strikethrough"),className:`${xe} ${r?fe:""}`,title:"Strikethrough",children:(0,I.jsx)(Z.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>a.dispatchCommand(N.mB,"code"),className:`${xe} ${s?fe:""}`,title:"Code",children:(0,I.jsx)(X.A,{size:16})}),(0,I.jsx)("button",{onClick:o,className:`${xe} ${i?fe:""}`,title:"Insert Link",children:(0,I.jsx)(ee.A,{size:16})})]})}function Ie(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null),[n,s]=(0,r.useState)("paragraph"),[i,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[v,C]=(0,r.useState)(!1),[k,b]=(0,r.useState)(!1),[y,_]=(0,r.useState)(!1),w=(0,r.useCallback)(()=>{const t=(0,N.vJq)();if((0,N.I2P)(t)){const n=t.anchor.getNode(),r="root"===n.getKey()?n:n.getTopLevelElementOrThrow(),i=r.getKey();if(null!==e.getElementByKey(i))if((0,p.HY)(r))s(r.getTag());else{const e=(0,g.Pi)(r)?r.getTag():r.getType();s(e)}o(t.hasFormat("bold")),l(t.hasFormat("italic")),d(t.hasFormat("underline")),h(t.hasFormat("strikethrough")),j(t.hasFormat("code"));const a=t.getNodes()[0],c=a.getParent();C((0,f.FJ)(c)||(0,f.FJ)(a))}},[e]);(0,r.useEffect)(()=>e.registerCommand(N.MvL,()=>(w(),!1),N.AcJ),[e,w]),(0,r.useEffect)(()=>e.registerCommand(N.KfJ,e=>(b(e),!1),N.AcJ),[e]),(0,r.useEffect)(()=>e.registerCommand(N.WWb,e=>(_(e),!1),N.AcJ),[e]);const S=(0,r.useCallback)(()=>{v?e.dispatchCommand(f.yW,null):e.dispatchCommand(f.yW,"https://")},[e,v]);return(0,I.jsxs)("div",{className:ge,ref:t,children:[(0,I.jsxs)("div",{className:pe,children:[(0,I.jsx)("button",{disabled:!k,onClick:()=>e.dispatchCommand(N.ZKf,void 0),className:xe,title:"Undo (Ctrl+Z)",children:(0,I.jsx)(te.A,{size:16})}),(0,I.jsx)("button",{disabled:!y,onClick:()=>e.dispatchCommand(N.V30,void 0),className:xe,title:"Redo (Ctrl+Y)",children:(0,I.jsx)(ne.A,{size:16})})]}),(0,I.jsx)("div",{className:ve}),(0,I.jsx)("div",{className:pe,children:(0,I.jsx)(we,{editor:e,blockType:n})}),(0,I.jsx)("div",{className:ve}),(0,I.jsx)("div",{className:pe,children:(0,I.jsx)(Te,{isBold:i,isItalic:a,isUnderline:c,isStrikethrough:u,isCode:x,isLink:v,onLinkClick:S})}),(0,I.jsx)("div",{className:ve}),(0,I.jsxs)("div",{className:pe,children:[(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(p.q7,void 0),className:xe,title:"Bulleted List",children:(0,I.jsx)(re.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(p.x,void 0),className:xe,title:"Numbered List",children:(0,I.jsx)(se.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.zI)(e,()=>(0,g.xi)())})},className:xe,title:"Quote",children:(0,I.jsx)(O.A,{size:16})})]}),(0,I.jsx)("div",{className:ve}),(0,I.jsxs)("div",{className:pe,children:[(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.fUS,"left"),className:xe,title:"Align Left",children:(0,I.jsx)(ie.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.fUS,"center"),className:xe,title:"Align Center",children:(0,I.jsx)(oe.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.fUS,"right"),className:xe,title:"Align Right",children:(0,I.jsx)(ae.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.fUS,"justify"),className:xe,title:"Align Justify",children:(0,I.jsx)(le.A,{size:16})})]}),(0,I.jsx)("div",{className:ve}),(0,I.jsxs)("div",{className:pe,children:[(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.sik,void 0),className:xe,title:"Outdent",children:(0,I.jsx)(ce.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.PiT,void 0),className:xe,title:"Indent",children:(0,I.jsx)(de.A,{size:16})})]}),(0,I.jsx)("div",{className:ve}),(0,I.jsx)("div",{className:pe,children:(0,I.jsx)(Se,{editor:e})})]})}var Ae=n(73105),De=n(40961),Ee=n(3549);const Le="floatingToolbar_lMBR",Pe="group_t413",Fe="button_yN6r",Ue="dropdownToggle__1sn",$e="active_NUwN",ze="divider_YUGY",Me="dropdown_zUBG",Re="dropdownMenu_LrcS",He="dropdownItem_o4Rx",Be="h1_Akom",Je="h2_t8C0",Oe="h3_y3_e",qe="linkEditor_zerj",Ke="linkInput_Himo",We="linkTrash_tL8e",Ye={h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",paragraph:"Paragraph"};function Ge(e){const t=e.anchor,n=e.anchor.getNode();return n===e.focus.getNode()||(0,M.Nx)(t)?n:n.getParent()}function Qe({editor:e,blockType:t}){const[n,s]=(0,r.useState)(!1),i=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const o=t=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.AH)(e,()=>(0,g.fi)(t))}),s(!1)};return(0,I.jsxs)("div",{className:Me,ref:i,children:[(0,I.jsxs)("button",{className:Ue,onClick:()=>s(!n),children:[Ye[t]||"Paragraph",(0,I.jsx)(R.A,{size:16})]}),n&&(0,I.jsxs)("div",{className:Re,children:[(0,I.jsxs)("button",{className:He,onClick:()=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.AH)(e,()=>(0,N.lJ7)())}),s(!1)},children:[(0,I.jsx)(Ee.A,{size:16})," Paragraph"]}),(0,I.jsxs)("button",{className:He,onClick:()=>o("h1"),children:[(0,I.jsx)("span",{className:Be,children:"H1"})," Heading 1"]}),(0,I.jsxs)("button",{className:He,onClick:()=>o("h2"),children:[(0,I.jsx)("span",{className:Je,children:"H2"})," Heading 2"]}),(0,I.jsxs)("button",{className:He,onClick:()=>o("h3"),children:[(0,I.jsx)("span",{className:Oe,children:"H3"})," Heading 3"]})]})]})}function Ve({editor:e,onClose:t}){const n=(0,r.useRef)(null),[s,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e.getEditorState().read(()=>{const e=(0,N.vJq)();if((0,N.I2P)(e)){const t=Ge(e),n=t.getParent();(0,f.FJ)(n)?(i(n.getURL()),a(!0)):(0,f.FJ)(t)&&(i(t.getURL()),a(!0))}}),setTimeout(()=>n.current?.focus(),0)},[e]);return(0,I.jsxs)("div",{className:qe,children:[(0,I.jsx)("input",{ref:n,className:Ke,value:s,onChange:e=>i(e.target.value),onKeyDown:n=>{"Enter"===n.key||" "===n.key?(n.preventDefault(),""!==s.trim()&&e.dispatchCommand(f.yW,s),t()):"Escape"===n.key&&(n.preventDefault(),t())},placeholder:"https://example.com"}),o&&(0,I.jsx)("button",{className:We,onClick:()=>{e.dispatchCommand(f.yW,null),t()},children:"\ud83d\uddd1"})]})}function Ze(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null),[n,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)("paragraph"),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),j=(0,r.useCallback)(()=>{const e=(0,N.vJq)();if((0,N.I2P)(e)){const t=Ge(e),n=t.getParent(),r=(0,g.Pi)(n)?n:(0,g.Pi)(t)?t:null;if(r){const e=r.getTag();o("h1"===e||"h2"===e||"h3"===e?e:"paragraph")}else o("paragraph");l(e.hasFormat("bold")),d(e.hasFormat("italic")),h(e.hasFormat("underline")),x((0,f.FJ)(n)||(0,f.FJ)(t))}},[]);return(0,r.useEffect)(()=>{const r=t.current;if(!r)return;return(0,Ae.Sd)(e.registerUpdateListener(({editorState:e})=>{e.read(()=>j())}),e.registerCommand(N.MvL,()=>{const e=(0,N.vJq)();return(0,N.I2P)(e)&&!e.isCollapsed()?(()=>{const e=window.getSelection();if(!e||0===e.rangeCount)return;const t=e.getRangeAt(0).getBoundingClientRect(),n=window.scrollY+t.top-r.offsetHeight-5,s=window.scrollX+t.left;r.style.opacity="1",r.style.top=`${n}px`,r.style.left=`${s}px`})():n||(r.style.opacity="0",r.style.top="-1000px",r.style.left="-1000px",s(!1)),!1},1))},[e,j,n]),(0,I.jsx)("div",{ref:t,className:Le,children:n?(0,I.jsx)(Ve,{editor:e,onClose:()=>s(!1)}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Qe,{editor:e,blockType:i}),(0,I.jsx)("div",{className:ze}),(0,I.jsxs)("div",{className:Pe,children:[(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.mB,"bold"),className:`${Fe} ${a?$e:""}`,children:(0,I.jsx)(G.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.mB,"italic"),className:`${Fe} ${c?$e:""}`,children:(0,I.jsx)(Q.A,{size:16})}),(0,I.jsx)("button",{onClick:()=>e.dispatchCommand(N.mB,"underline"),className:`${Fe} ${u?$e:""}`,children:(0,I.jsx)(V.A,{size:16})})]}),(0,I.jsx)("div",{className:ze}),(0,I.jsx)("div",{className:Pe,children:(0,I.jsx)("button",{onClick:()=>s(!0),className:`${Fe} ${p?$e:""}`,children:(0,I.jsx)(ee.A,{size:16})})})]})})}function Xe(){return(0,De.createPortal)((0,I.jsx)(Ze,{}),document.body)}const et="drawioContainer_j2ZE";function tt({diagramXML:e}){const t=(0,r.useMemo)(()=>`https://viewer.diagrams.net/?lightbox=1&edit=_blank&layers=1&nav=1#R${encodeURIComponent(e)}`,[e]);return(0,I.jsx)("div",{className:et,children:(0,I.jsx)("iframe",{src:t,title:"Draw.io Diagram Preview"})})}class nt extends N.Kp7{static getType(){return"drawio"}static clone(e){return new nt(e.__diagramXML,e.__key)}static importJSON(e){return rt(e.diagramXML)}exportJSON(){return{diagramXML:this.__diagramXML,type:"drawio",version:1}}createDOM(e){const t=document.createElement("div");return t.style.display="contents",t}updateDOM(){return!1}constructor(e,t){super(t),this.__diagramXML=e}decorate(){return(0,I.jsx)(tt,{diagramXML:this.__diagramXML})}}function rt(e){return(0,N.pTq)(new nt(e))}function st(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null),n=t=>{if(!t||!t.name.toLowerCase().endsWith(".drawio"))return void console.warn("Invalid file type. Please upload a .drawio file.");const n=new FileReader;n.onload=t=>{const n=t.target?.result;n&&e.dispatchCommand(U,n)},n.readAsText(t)};return(0,r.useEffect)(()=>{if(!e.hasNodes([nt]))throw new Error("DrawioPlugin: DrawioNode not registered on editor");const r=e.registerCommand(U,t=>(e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&e.insertNodes([rt(t)])}),!0),N.jZM),s=e.registerCommand($,()=>(t.current?.click(),!0),N.jZM),i=e.getRootElement(),o=e=>{e.preventDefault()},a=e=>{e.preventDefault();const t=e.dataTransfer?.files;if(t&&t.length>0){const e=Array.from(t).find(e=>e.name.toLowerCase().endsWith(".drawio"));e&&n(e)}};return i&&(i.addEventListener("dragover",o),i.addEventListener("drop",a)),()=>{r(),s(),i&&(i.removeEventListener("dragover",o),i.removeEventListener("drop",a))}},[e]),(0,I.jsx)("input",{type:"file",accept:".drawio",onChange:e=>{const t=e.target.files?.[0];t&&n(t),e.target.value=""},ref:t,style:{display:"none"}})}const it="tocContainer_dcOI",ot="tocList_wPsL",at="tocItem_xuHY",lt="active_RzBK";function ct(){const[e]=(0,m.DF)(),[t,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),{getActiveDocument:o}=(0,y.u)();(0,r.useEffect)(()=>{const r=e.registerUpdateListener(({editorState:e})=>{const r=o();r&&e.read(()=>{const e=(0,N.NiT)(),s=[];r.title&&s.push({key:"article-header",text:r.title,level:1}),e.getChildren().forEach(e=>{(0,g.Pi)(e)&&s.push({key:e.getKey(),text:e.getTextContent(),level:parseInt(e.getTag().substring(1),10)})}),JSON.stringify(t)!==JSON.stringify(s)&&n(s)})});return()=>r()},[e,o,t]);const a=t=>{(t=>{e.update(()=>{const n="article-header"===t?document.getElementById("article-header"):e.getElementByKey(t);if(n){const e=document.querySelector(".navbar--fixed-top"),t=e?e.offsetHeight:0,r=20,s=n.getBoundingClientRect().top+window.scrollY-t-r;window.scrollTo({top:s,behavior:"smooth"})}})})(t),i(t)};return(0,I.jsx)("div",{className:it,children:(0,I.jsx)("ul",{className:ot,children:t.length>0?t.map(e=>(0,I.jsx)("li",{className:`${at} ${e.key===s?lt:""}`,"data-level":e.level,onClick:()=>a(e.key),title:e.text,children:e.text},e.key)):(0,I.jsx)("li",{className:at,"data-level":"1",children:"No headings yet."})})})}var dt=n(95591);const ut="typeahead-popover_XPSu",ht="selected_vMYK",mt="icon_l3og",gt="text_lPfR",pt="hint_h1zO",xt="menuFooter_nkwt",jt="footerKey_N8ue";class ft extends dt.BB{constructor(e,t){super(e),this.name=e,this.icon=t.icon,this.keywords=t.keywords||[],this.hint=t.hint,this.onSelect=t.onSelect}}function vt({isSelected:e,onClick:t,onMouseEnter:n,option:r}){return(0,I.jsxs)("li",{ref:r.setRefElement,className:e?ht:"",onClick:t,onMouseEnter:n,role:"option","aria-selected":e,children:[(0,I.jsx)("span",{className:mt,children:r.icon}),(0,I.jsx)("span",{className:gt,children:r.name}),r.hint&&(0,I.jsx)("span",{className:pt,children:r.hint})]},r.key)}function Ct({options:e,onSelectOption:t,selectedIndex:n,queryString:r}){return(0,I.jsxs)("div",{className:ut,children:[(0,I.jsx)("ul",{children:e.map((e,r)=>(0,I.jsx)(vt,{isSelected:n===r,onClick:()=>t(e),onMouseEnter:()=>{},option:e},e.key))}),(0,I.jsxs)("div",{className:xt,children:[(0,I.jsx)("span",{children:r?(0,I.jsxs)(I.Fragment,{children:["/",(0,I.jsx)("b",{children:r})]}):"Type '/' on the page"}),(0,I.jsx)("span",{className:jt,children:"esc"})]})]})}function kt(){const[e]=(0,m.DF)(),[t,n]=(0,r.useState)(null);console.log("SlashCommandPlugin has mounted.");const s=(0,r.useMemo)(()=>[new ft("Paragraph",{icon:(0,I.jsx)(Ee.A,{size:20}),keywords:["paragraph","text","p"],onSelect:e=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.zI)(e,()=>(0,N.lJ7)())})}}),new ft("Heading 1",{icon:(0,I.jsx)(H.A,{size:20}),keywords:["heading","h1","header"],hint:"#",onSelect:e=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.zI)(e,()=>(0,g.fi)("h1"))})}}),new ft("Heading 2",{icon:(0,I.jsx)(B.A,{size:20}),keywords:["heading","h2","header"],hint:"##",onSelect:e=>{e.update(()=>{const e=(0,N.vJq)();(0,N.I2P)(e)&&(0,M.zI)(e,()=>(0,g.fi)("h2"))})}}),new ft("Bulleted List",{icon:(0,I.jsx)(re.A,{size:20}),keywords:["bullet","list","ul"],hint:"-",onSelect:e=>{e.dispatchCommand(p.q7,void 0)}}),new ft("Numbered List",{icon:(0,I.jsx)(se.A,{size:20}),keywords:["numbered","list","ol"],hint:"1.",onSelect:e=>{e.dispatchCommand(p.x,void 0)}}),new ft("Image",{icon:(0,I.jsx)(K.A,{size:20}),keywords:["image","photo","picture","img"],onSelect:e=>{e.dispatchCommand(F,void 0)}}),new ft("Draw.io Diagram",{icon:(0,I.jsx)(W.A,{size:20}),keywords:["drawio","diagram","draw","flowchart"],onSelect:e=>{e.dispatchCommand($,void 0)}}),new ft(me.name,{...me})],[]),i=(0,r.useMemo)(()=>{if(!t)return s;const e=t.toLowerCase();return s.filter(t=>t.name.toLowerCase().includes(e)||t.keywords.some(t=>t.includes(e)))},[s,t]),o=(0,dt.mx)("/",{minLength:0}),a=(0,r.useCallback)((t,n,r)=>{e.update(()=>{n&&n.remove(),t.onSelect(e),r()})},[e]);return(0,I.jsx)(dt.QP,{onQueryChange:e=>{console.log("Query changed:",e),n(e)},onSelectOption:a,triggerFn:o,options:i,menuRenderFn:(e,{selectedIndex:n,selectOptionAndCleanUp:r})=>(console.log("menuRenderFn is being called. Anchor:",e.current,"Options count:",i.length),e.current&&i.length>0?De.createPortal((0,I.jsx)(Ct,{options:i,selectedIndex:n,onSelectOption:e=>{r(e)},queryString:t}),e.current):null)})}function bt(){const[e]=(0,m.DF)(),t=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{if(t.current)return;let n=!1;e.update(()=>{const e=(0,N.NiT)();if(e.isEmpty()){const t=(0,N.lJ7)();e.append(t),n=!0}}),n&&setTimeout(()=>{e.focus()},0),t.current=!0},[e]),null}const yt={editorPageWrapper:"editorPageWrapper_ru3S",navColumn:"navColumn_oxZt",editorColumn:"editorColumn_kzIv",tocColumn:"tocColumn_vtDV",editorContainer:"editorContainer_KnxE",contentHeader:"contentHeader_D9sj",editorInner:"editorInner_J7uk",editorInput:"editorInput_qkze",editorPlaceholder:"editorPlaceholder_sOt1",editorHeader:"editorHeader_Vu6D",saveTimestamp:"saveTimestamp_WBtD",headerButtons:"headerButtons_A9kd",dialogOverlay:"dialogOverlay_QeYh",dialogContent:"dialogContent_wSa6",dialogTitle:"dialogTitle_nfqq",dialogMessage:"dialogMessage_qJL1",dialogActions:"dialogActions_QBm1",editorTextBold:"editorTextBold_jGug",editorTextItalic:"editorTextItalic_zscZ",editorTextUnderline:"editorTextUnderline_ws7Z",editorTextStrikethrough:"editorTextStrikethrough_kSUe",editorTextUnderlineStrikethrough:"editorTextUnderlineStrikethrough_vK1R",editorTextCode:"editorTextCode_KBvZ",editorParagraph:"editorParagraph_iPKb",editorH1:"editorH1_VuK0",editorH2:"editorH2_VFP5",editorH3:"editorH3_dG1S",editorH4:"editorH4_QxYJ",editorH5:"editorH5_cK2Z",editorQuote:"editorQuote_mp9z",editorUList:"editorUList_HtHL",editorOList:"editorOList_ALAl",editorListItem:"editorListItem_aNug",editorNestedListItem:"editorNestedListItem_dkfI",editorLink:"editorLink_WykR",editorCode:"editorCode_JD40",editorImage:"editorImage_SEl5",ltr:"ltr_yvot",rtl:"rtl_nZSQ",editorTokenComment:"editorTokenComment_bFoZ",editorTokenPunctuation:"editorTokenPunctuation_j1nM",editorTokenProperty:"editorTokenProperty_mB_7",editorTokenSelector:"editorTokenSelector_s2mQ",editorTokenOperator:"editorTokenOperator_BbGX",editorTokenAttr:"editorTokenAttr_brx6",editorTokenVariable:"editorTokenVariable_pBr2",editorTokenFunction:"editorTokenFunction_ZjKa"},_t={ltr:yt.ltr,rtl:yt.rtl,placeholder:yt.editorPlaceholder,paragraph:yt.editorParagraph,quote:yt.editorQuote,heading:{h1:yt.editorH1,h2:yt.editorH2,h3:yt.editorH3,h4:yt.editorH4,h5:yt.editorH5},list:{nested:{listitem:yt.editorNestedListItem},ol:yt.editorOList,ul:yt.editorUList,listitem:yt.editorListItem},link:yt.editorLink,text:{bold:yt.editorTextBold,italic:yt.editorTextItalic,underline:yt.editorTextUnderline,strikethrough:yt.editorTextStrikethrough,underlineStrikethrough:yt.editorTextUnderlineStrikethrough,code:yt.editorTextCode},image:yt.editorImage,code:yt.editorCode,codeHighlight:{atrule:yt.editorTokenAttr,attr:yt.editorTokenAttr,boolean:yt.editorTokenProperty,builtin:yt.editorTokenSelector,cdata:yt.editorTokenComment,char:yt.editorTokenSelector,class:yt.editorTokenFunction,"class-name":yt.editorTokenFunction,comment:yt.editorTokenComment,constant:yt.editorTokenProperty,deleted:yt.editorTokenProperty,doctype:yt.editorTokenComment,entity:yt.editorTokenOperator,function:yt.editorTokenFunction,important:yt.editorTokenVariable,inserted:yt.editorTokenSelector,keyword:yt.editorTokenAttr,namespace:yt.editorTokenVariable,number:yt.editorTokenProperty,operator:yt.editorTokenOperator,prolog:yt.editorTokenComment,property:yt.editorTokenProperty,punct:yt.editorTokenPunctuation,regex:yt.editorTokenVariable,selector:yt.editorTokenSelector,string:yt.editorTokenSelector,symbol:yt.editorTokenProperty,tag:yt.editorTokenProperty,url:yt.editorTokenOperator,variable:yt.editorTokenVariable}},Nt="navContainer_OGS4",wt="navItem_J1en",St="active_WzCq",Tt="rootItem_akss",It="childrenList_Bxbi",At="itemTitle_ed9X",Dt="itemActions_alYv",Et=({onAddNew:e})=>{const{documents:t,activeDocumentId:n,setActiveDocumentId:r}=(0,y.u)(),s=i=>{const o=t.filter(e=>e.parentId===i.id);return(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:`${wt} ${i.parentId?"":Tt} ${i.id===n?St:""}`,onClick:()=>r(i.id),children:[(0,I.jsx)("span",{className:At,title:i.title||"Untitled Page",children:i.title||"Untitled Page"}),(0,I.jsx)("div",{className:Dt,children:(0,I.jsx)(v.$,{design:"Transparent",icon:"add",onClick:t=>{(e=>{e.stopPropagation()})(t),e(i.id)},tooltip:"Add sub-page"})})]}),o.length>0&&(0,I.jsx)("ul",{className:It,children:o.map(e=>(0,I.jsx)("li",{children:s(e)},e.id))})]},i.id)},i=t.filter(e=>null===e.parentId);return(0,I.jsx)("div",{className:Nt,children:i.map(e=>s(e))})};var Lt=n(44586),Pt=n(56347);n(2954);const Ft="overlay_CdmC",Ut="modal_n3OA",$t="progressContainer_VBC5",zt="rocket_izUw",Mt="rocketLaunched_YC5v",Rt="punText_r9iG",Ht="fireworks_kkrq",Bt="resultContainer_IKiQ",Jt="errorMessage_vKPx",Ot="buttonGroup_Kvbk",qt={forking:"Charting the course to the cosmos...",packaging:"Securing the payload for orbit...",committing:"Final countdown engaged... ignition!"};function Kt({status:e,error:t,commitUrl:n,pullRequestUrl:r,onClose:s,onSuccessFinish:i}){if("idle"===e)return null;const o="forking"===e||"packaging"===e||"committing"===e,a="success"===e?`${zt} ${Mt}`:zt;return(0,I.jsx)("div",{className:Ft,children:(0,I.jsxs)("div",{className:Ut,children:["success"===e&&(0,I.jsx)("img",{src:"/img/fireworks.gif",alt:"Success fireworks",className:Ht}),o&&(0,I.jsxs)("div",{className:$t,children:[(0,I.jsx)("h2",{children:"Preparing for Liftoff"}),(0,I.jsx)("img",{src:"/img/rocket.gif",alt:"Rocket preparing for launch",className:a}),(0,I.jsx)("p",{className:Rt,children:qt[e]})]}),"success"===e&&(0,I.jsxs)("div",{className:Bt,children:[(0,I.jsx)("img",{src:"/img/rocket.gif",alt:"Rocket launching",className:a}),(0,I.jsx)("h3",{children:"We Have Liftoff!"}),(0,I.jsx)("p",{children:"Your document has been published and a pull request has been created successfully."}),(0,I.jsx)("div",{className:Ot,children:(0,I.jsx)(v.$,{design:"Emphasized",onClick:i,children:r?"View Pull Request & Finish":"View on GitHub & Finish"})})]}),"error"===e&&(0,I.jsxs)("div",{className:Bt,children:[(0,I.jsx)("h3",{children:"Mission Aborted"}),(0,I.jsx)("p",{className:Jt,children:t||"An unknown error occurred."}),(0,I.jsx)(v.$,{onClick:s,children:"Return to Hangar"})]})]})})}var Wt=n(57839),Yt=n(6561),Gt=n(12117),Qt=n(48515),Vt=n(9680),Zt=(n(57010),n(66588));const Xt={container:"container_TaWc",actions:"actions_bfdm",displayTitle:"displayTitle_SdI2",tagsContainer:"tagsContainer_isMt",tag:"tag_MpF0",placeholder:"placeholder_rqMs",updateInfo:"updateInfo_w9rF",containerEditing:"containerEditing_lYqf",formField:"formField_rjnK",titleInput:"titleInput_iUMq",descriptionInput:"descriptionInput_VJcY",editingActions:"editingActions_g6EA",cancelButton:"cancelButton_TD8J"},en=e=>{if(!e)return"N/A";try{const t=new Date(e);return isNaN(t.getTime())?e.split(",")[0]:t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return e.split(",")[0]}};function tn(){const{getActiveDocument:e,updateDocument:t,lastSaveTimestamp:n}=(0,y.u)(),s=e(),i=(0,Zt.Ay)()["docusaurus-tags"].default.tags||{},{availableTags:o,tagKeyToLabelMap:a}=(0,r.useMemo)(()=>{if(!i||0===Object.keys(i).length)return{availableTags:[],tagKeyToLabelMap:new Map};const e=Object.entries(i).filter(([e])=>"demo"!==e).map(([e,t])=>({key:e,label:t.label,description:t.description})),t=new Map(e.map(e=>[e.key,e.label]));return{availableTags:e,tagKeyToLabelMap:t}},[i]),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({title:"",tags:[],description:""});if(!s)return null;const h=()=>{const e=d.tags.map(e=>e.key);t(s.id,{title:d.title,tags:e,description:d.description}),c(!1)},m=()=>{c(!1)};return l?(0,I.jsxs)("div",{id:"article-header",className:Xt.containerEditing,children:[(0,I.jsxs)("div",{className:Xt.formField,children:[(0,I.jsx)(Wt.J,{for:"titleInput",children:"Title"}),(0,I.jsx)(Yt.p,{id:"titleInput",value:d.title,className:Xt.titleInput,placeholder:"Enter a title...",onInput:e=>u(t=>({...t,title:e.target.value}))})]}),(0,I.jsxs)("div",{className:Xt.formField,children:[(0,I.jsxs)("div",{className:Xt.formField,children:[(0,I.jsx)(Wt.J,{for:"descriptionInput",children:"Description"}),(0,I.jsx)(Gt.f,{id:"descriptionInput",value:d.description,className:Xt.descriptionInput,placeholder:"Enter a description",rows:3,onInput:e=>u(t=>({...t,description:e.target.value}))})]}),(0,I.jsx)(Wt.J,{for:"tagsInput",children:"Tags"}),(0,I.jsx)(Qt.n,{id:"tagsInput",placeholder:"Select tags",onSelectionChange:e=>{const t=e.detail.items.map(e=>o.find(t=>t.label===e.text)).filter(Boolean);u(e=>({...e,tags:t}))},children:o.map(e=>(0,I.jsx)(Vt.e,{text:e.label,selected:d.tags.some(t=>t.key===e.key)},e.key))})]}),(0,I.jsxs)("div",{className:Xt.formField,children:[(0,I.jsx)(Wt.J,{for:"authorsInput",children:"Author"}),(0,I.jsx)("div",{className:Xt.authorDisplay,children:s.authors.length>0?s.authors.join(", "):"N/A"})]}),(0,I.jsxs)("div",{className:Xt.editingActions,children:[(0,I.jsx)(v.$,{onClick:h,design:"Emphasized",children:"Save"}),(0,I.jsx)(v.$,{onClick:m,design:"Transparent",className:Xt.cancelButton,children:"Cancel"})]})]}):(0,I.jsxs)("div",{id:"article-header",className:Xt.container,children:[(0,I.jsx)("h1",{className:Xt.displayTitle,children:s.title||"Untitled Page"}),(0,I.jsx)("div",{className:Xt.actions,children:(0,I.jsx)(v.$,{icon:"edit",design:"Transparent",onClick:()=>{const e=s.tags.map(e=>o.find(t=>t.key===e)).filter(Boolean);u({title:s.title,tags:e,description:s.description||""}),c(!0)}})}),(0,I.jsx)("div",{className:Xt.tagsContainer,children:s.tags.length>0&&s.tags.map(e=>(0,I.jsx)("span",{className:Xt.tag,children:a.get(e)||e},e))}),(0,I.jsxs)("p",{className:Xt.updateInfo,children:["Last updated on ",(0,I.jsx)("strong",{children:en(n)})," by"," ",(0,I.jsx)("strong",{children:s.authors.length>0?s.authors.join(", "):"Unknown"})]})]})}var nn=n(41238);n(1391),n(61691);const rn="breadcrumbNav_GfPT",sn="breadcrumbList_wHQa",on="breadcrumbItem_fTR3",an="breadcrumbLink_wqV3",ln="breadcrumbCurrent_HsZU",cn="homeIcon_Msuu",dn="separator_jdJ0",un=({path:e})=>e&&0!==e.length?(0,I.jsx)("nav",{"aria-label":"breadcrumb",className:rn,children:(0,I.jsxs)("ol",{className:sn,children:[(0,I.jsx)("li",{className:on,children:(0,I.jsx)("a",{href:"/",className:an,children:(0,I.jsx)(nn.I,{name:"home",className:cn})})}),e.map((t,n)=>(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)("li",{className:dn,children:(0,I.jsx)(nn.I,{name:"slim-arrow-right"})}),(0,I.jsx)("li",{className:on,"aria-current":n===e.length-1?"page":void 0,children:n===e.length-1?(0,I.jsx)("span",{className:ln,children:t.title}):(0,I.jsx)("a",{href:"#",className:an,children:t.title})})]},t.id))]})}):null;var hn=n(74865),mn=n(64060);n(17658);const gn="container_h17w",pn="titleWrapper_hlrD",xn="infoIcon_D1u7",jn="title_VH7a",fn="list_X3OL",vn="contributor_QDrD",Cn="username_gOYy",kn="avatar_HK9E",bn="editButton_v0KQ",yn="editContainer_fIbb",_n="multiComboBox_Atjw",Nn="comboItem_buWv",wn="noContributors_B9go",Sn=({contributors:e,onContributorsChange:t})=>{const{siteConfig:n}=(0,Lt.A)(),{token:s}=(0,_.A)(),i=n.customFields?.expressBackendUrl,[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(""),[h,m]=(0,r.useState)([]),[g,p]=(0,r.useState)(!1),[x,j]=(0,r.useState)({}),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!i||d.trim().length<3||!o)return m([]),void p(!1);p(!0);const e=setTimeout(()=>C(),300);return()=>{clearTimeout(e),f.current&&f.current.abort()}},[d,o]);const C=async()=>{f.current&&f.current.abort(),f.current=new AbortController;const e=f.current.signal;try{const t=`${i}/user/github/search-users?q=${d}`,n=await fetch(t,{headers:{Authorization:`Bearer ${s}`},cache:"no-store",signal:e});if(!n.ok)throw new Error("Failed to fetch users");const r=await n.json(),o=new Set(l||[]);m(r.items.filter(e=>!o.has(e.login)))}catch(t){"AbortError"!==t.name&&console.error("Error searching:",t)}finally{p(!1)}},k=(0,r.useMemo)(()=>{const e=new Map;l?.forEach(t=>{e.set(t,{id:t,login:t,avatar_url:x[t]})}),h.forEach(t=>{e.set(t.login,{id:t.id,login:t.login,avatar_url:t.avatar_url})});const t=Array.from(e.values());return t.sort((e,t)=>{const n=l.includes(e.login),r=l.includes(t.login);return Number(n)-Number(r)}),t},[h,l,x]);return(0,I.jsxs)("div",{className:gn,children:[(0,I.jsxs)("div",{className:pn,children:[(0,I.jsx)(nn.I,{name:"information",className:xn}),(0,I.jsx)("h3",{className:jn,children:"Contributors"}),!o&&(0,I.jsx)(v.$,{design:"Transparent",icon:"edit",onClick:()=>{c([...e]),a(!0)},className:bn,tooltip:"Edit Contributors"})]}),o?(0,I.jsxs)("div",{className:yn,children:[(0,I.jsxs)(Qt.n,{filter:"None",placeholder:"Search or add a GitHub username...",value:d,onInput:e=>{u(e.target.value||"")},onSelectionChange:e=>{const t=(e.detail.items||[]).map(e=>e.text);c(e=>[...e.filter(e=>t.includes(e)),...t.filter(t=>!e.includes(t))])},onKeyDown:async e=>{if("Enter"===e.key&&d.trim()){e.preventDefault();const t=d.trim(),n=l||[];n.includes(t)||c([...n,t]),u(""),m([])}},disabled:!i,className:_n,children:[g&&(0,I.jsx)(Vt.e,{text:"Searching..."}),k.map(e=>(0,I.jsx)(Vt.e,{text:e.login,selected:l.includes(e.login),children:(0,I.jsxs)("div",{className:Nn,children:[(0,I.jsx)(hn.e,{size:"XS",icon:`https://github.com/${e.login}.png`}),(0,I.jsx)("span",{children:e.login})]})},e.id))]}),(0,I.jsxs)(mn.p,{gap:"0.5rem",children:[(0,I.jsx)(v.$,{design:"Emphasized",onClick:()=>{t?.(l),a(!1)},children:"Save"}),(0,I.jsx)(v.$,{onClick:()=>{a(!1)},children:"Cancel"})]})]}):(0,I.jsx)("div",{className:fn,children:e&&e.length>0?e.map((t,n)=>(0,I.jsxs)("a",{href:`https://github.com/${t}`,target:"_blank",rel:"noopener noreferrer",className:vn,children:[(0,I.jsx)("img",{src:`https://github.com/${t}.png`,alt:`Profile of ${t}`,className:kn}),(0,I.jsx)("span",{className:Cn,children:t}),n<e.length-1&&","]},t)):(0,I.jsx)("span",{className:wn,children:"No contributors listed. Click the edit icon to add one."})})]})},Tn=(e,t)=>{const n=t.find(t=>t.id===e);if(!n)return null;const r=t.filter(t=>t.parentId===e).map(e=>Tn(e.id,t)).filter(Boolean);return{...n,children:r}},In=e=>({id:e.id,editorState:e.editorState,parentId:e.parentId,children:e.children?e.children.map(In):[],metadata:{title:e.title,tags:e.tags,authors:e.authors,contributors:e.contributors,description:e.description||"This is a default description."}});function An(){return(0,I.jsx)("div",{className:yt.editorPlaceholder,children:"Type / to get started"})}const Dn=[g.jL,g.dJ,p.v5,p.YW,x.iK,x.yy,j.HA,j.B9,j.py,f.k_,f.Db,E,nt],En=()=>{const[e]=(0,m.DF)(),{getActiveDocument:t,updateDocument:n}=(0,y.u)();return(0,I.jsx)(h.D,{onChange:e=>{const r=t();if(r){const t=JSON.stringify(e.toJSON());t!==r.editorState&&n(r.id,{editorState:t})}}})},Ln=e=>new Promise(t=>setTimeout(t,e)),Pn=({onAddNew:e})=>{const{getActiveDocument:t,lastSaveTimestamp:n,deleteDocument:h,documents:m,resetStore:g,updateDocument:p}=(0,y.u)(),{user:x}=(0,_.A)(),[j,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),S=t(),{siteConfig:T}=(0,Lt.A)(),{expressBackendUrl:A}=T.customFields,[D,E]=(0,r.useState)({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null}),L=(0,Pt.W6)(),P=T.baseUrl,[F,U]=(0,r.useState)(!1),[$,M]=(0,r.useState)(""),[R,H]=(0,r.useState)(!1),B=(0,r.useMemo)(()=>((e,t)=>{if(!e)return[];const n=[];let r=t.find(t=>t.id===e);for(;r;)n.unshift(r),r=t.find(e=>e.id===r.parentId);return n})(S?.id,m),[S,m]),J=async()=>{if(w(!0),E({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null}),!S)return alert("No active document to publish."),void w(!1);const e=((e,t)=>{let n=t.find(t=>t.id===e);if(!n)return null;for(;n.parentId;){const e=t.find(e=>e.id===n.parentId);if(!e)break;n=e}return n})(S.id,m);if(!e)return alert("Could not find the root document for publishing."),void w(!1);const t=Tn(e.id,m);if(!t)return alert("Could not construct the document tree."),void w(!1);const n=In(t),r={document:JSON.stringify(n)};try{const e=localStorage.getItem("jwt_token");if(!e)return alert("Authentication error: You are not logged in. Please log in again."),void w(!1);E(e=>({...e,stage:"forking"}));const t=await fetch(`${A}/api/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)}),n=await t.json();if(!t.ok){if(n.error&&n.error.includes("SYNC_CONFLICT"))return x?.username&&M(`https://github.com/${x.username}/architecture-center`),U(!0),E({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null}),void w(!1);throw new Error(n.error||"Failed to publish to GitHub.")}await Ln(1e3),E(e=>({...e,stage:"packaging"})),await Ln(1e3),E(e=>({...e,stage:"committing"})),await Ln(1e3),E({stage:"success",error:null,commitUrl:n.commitUrl,pullRequestUrl:n.pullRequestUrl})}catch(s){console.error("Publishing failed:",s),E({stage:"error",error:s.message,commitUrl:null,pullRequestUrl:null})}};if(!S)return null;const O={namespace:"MyEditor",theme:_t,onError(e){throw e},nodes:Dn,editorState:S.editorState||null};return(0,I.jsxs)(s.n,{initialConfig:O,children:[(0,I.jsxs)("div",{className:yt.editorPageWrapper,children:[(0,I.jsx)("div",{className:yt.navColumn,children:(0,I.jsx)(Et,{onAddNew:e})}),(0,I.jsxs)("div",{className:yt.editorColumn,children:[(0,I.jsxs)("div",{className:yt.editorHeader,children:[n&&(0,I.jsxs)("span",{className:yt.saveTimestamp,children:["Last saved: ",n]}),(0,I.jsxs)("div",{className:yt.headerButtons,children:[(0,I.jsx)(v.$,{design:"Emphasized",onClick:J,disabled:N,children:N?"Submitting...":"Submit"}),S&&(0,I.jsx)(v.$,{design:"Default",onClick:()=>f(!0),tooltip:"Delete current document",children:"Delete"})]})]}),(0,I.jsxs)("div",{className:yt.editorContainer,children:[(0,I.jsxs)("div",{className:yt.contentHeader,children:[(0,I.jsx)(un,{path:B}),(0,I.jsx)(tn,{})]}),(0,I.jsx)(Ie,{}),(0,I.jsxs)("div",{className:yt.editorInner,children:[(0,I.jsx)(i.$,{contentEditable:(0,I.jsx)(o.a,{className:yt.editorInput}),placeholder:(0,I.jsx)(An,{}),ErrorBoundary:c.R}),(0,I.jsx)(a.G,{}),(0,I.jsx)(l.x,{}),(0,I.jsx)(d.Q,{}),(0,I.jsx)(u.W,{}),(0,I.jsx)(z,{}),(0,I.jsx)(st,{}),(0,I.jsx)(kt,{}),(0,I.jsx)(En,{}),(0,I.jsx)(bt,{}),(0,I.jsx)(Xe,{})]}),(0,I.jsx)(Sn,{contributors:S?.contributors||[],onContributorsChange:e=>{S&&p(S.id,{contributors:e})}})]})]}),(0,I.jsx)("div",{className:yt.tocColumn,children:(0,I.jsx)(ct,{})})]}),j&&S&&(0,I.jsx)("div",{className:yt.dialogOverlay,children:(0,I.jsxs)("div",{className:yt.dialogContent,children:[(0,I.jsx)("h3",{className:yt.dialogTitle,children:"Delete Document"}),(0,I.jsxs)("p",{className:yt.dialogMessage,children:['Are you sure you want to delete "',S.title||"Untitled Page",'"?',(0,I.jsx)("br",{}),"This action cannot be undone."]}),(0,I.jsxs)("div",{className:yt.dialogActions,children:[(0,I.jsx)(v.$,{design:"Default",onClick:()=>f(!1),children:"Cancel"}),(0,I.jsx)(v.$,{design:"Default",onClick:()=>{h(S.id),f(!1)},children:"Delete"})]})]})}),(0,I.jsx)(Kt,{status:D.stage,error:D.error,commitUrl:D.commitUrl,pullRequestUrl:D.pullRequestUrl,onClose:()=>{E({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null})},onSuccessFinish:()=>{const e=D.pullRequestUrl||D.commitUrl;e&&window.open(e,"_blank","noopener,noreferrer"),g(),L.push(P)}}),(0,I.jsx)(C.l,{open:F,header:(0,I.jsx)(k.y,{children:(0,I.jsx)(b.h,{children:"Sync Required"})}),footer:(0,I.jsx)(k.y,{endContent:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v.$,{design:"Transparent",className:yt.transparentButton,onClick:()=>{U(!1),J()},disabled:R,children:"I've Synced Manually, Retry"}),(0,I.jsx)(v.$,{onClick:()=>U(!1),disabled:R,children:"Cancel"})]})}),children:(0,I.jsxs)("div",{style:{padding:"1.5rem",fontSize:"1rem",color:"#333"},children:[(0,I.jsx)("p",{style:{marginTop:0,marginBottom:"1rem"},children:"Your fork is out of sync and could not be updated automatically."}),(0,I.jsx)("p",{style:{marginBottom:"1.5rem"},children:"Please sync your fork manually on GitHub and then try again, or attempt another automatic sync."}),(0,I.jsx)("h4",{style:{marginBottom:"0.5rem",fontWeight:600},children:"Manual Sync Instructions:"}),(0,I.jsxs)("ol",{style:{paddingLeft:"20px",margin:0,lineHeight:"1.8"},children:[(0,I.jsx)("li",{children:(0,I.jsx)("strong",{children:(0,I.jsx)("a",{href:$,target:"_blank",rel:"noopener noreferrer",style:{color:"#0b65de"},children:"Open your fork on GitHub"})})}),(0,I.jsx)("li",{children:'Find the "Sync fork" button near the top of the page.'}),(0,I.jsx)("li",{children:'Click "Update branch" to complete the sync.'})]})]})})]})}}}]);