"use strict";(self.webpackChunksap_architecture_center=self.webpackChunksap_architecture_center||[]).push([[3709],{10491:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/mt-cap-auth-consumer-idp-c-a-069a0986a0a03f1da7f7189269a7849d.svg"},28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>o});var n=i(96540);const a={},s=n.createContext(a);function r(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(s.Provider,{value:t},e.children)}},29128:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/mt-cap-auth-consumer-idp-c-b-3e486e1648c3037288c3512bccf5c556.svg"},40656:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/mt-cap-auth-provider-cis-05a4031325d50ae9b452156a69c434f6.svg"},46579:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/mt-cap-auth-consumer-idp-p-b-24f196d017ed1659f0b04e78f8f7956f.svg"},55759:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/mt-cap-auth-sap-idp-7b97b29c3c4d84d30ffa1c4d2ced0aeb.svg"},78807:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"ref-arch/RA0007/mt-authentication/id-ra0007-6","title":"Authentication Strategies","description":"Authentication Strategies","source":"@site/docs/ref-arch/RA0007/7-mt-authentication/readme.md","sourceDirName":"ref-arch/RA0007/7-mt-authentication","slug":"/ref-arch/d31bedf420/6","permalink":"/@preview/anbazhagan-uma-dev/docs/ref-arch/d31bedf420/6","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/architecture-center/edit/main/docs/ref-arch/RA0007/7-mt-authentication/readme.md","tags":[{"inline":false,"label":"Application Development & Automation","permalink":"/@preview/anbazhagan-uma-dev/docs/tags/appdev","description":"Extend, create, and automate apps for SAP and non-SAP solutions."},{"inline":false,"label":"CAP","permalink":"/@preview/anbazhagan-uma-dev/docs/tags/cap","description":"SAP Cloud Application Programming Model (CAP) is a framework of languages, libraries, and tools for building enterprise-grade services and applications. It guides developers along a path of proven best practices and a great wealth of out-of-the-box solutions to recurring tasks."},{"inline":false,"label":"Generative AI","permalink":"/@preview/anbazhagan-uma-dev/docs/tags/genai","description":"Generative AI is a type of AI that is capable of generating new data, such as images, videos, and text, based on the data it has been trained on."}],"version":"current","lastUpdatedBy":"Ajit Kumar Panda","lastUpdatedAt":1738281600000,"sidebarPosition":1,"frontMatter":{"id":"id-ra0007-6","slug":"/ref-arch/d31bedf420/6","sidebar_position":1,"sidebar_custom_props":{"category_index":[]},"title":"Authentication Strategies","description":"Authentication Strategies","keywords":["sap","btp","multitenant","saas","cap"],"sidebar_label":"Authentication Strategies","image":"img/logo.svg","tags":["appdev","cap","genai"],"hide_table_of_contents":false,"hide_title":false,"toc_min_heading_level":2,"toc_max_heading_level":4,"draft":false,"unlisted":false,"contributors":["AjitKP91","alperdedeoglu"],"discussion":null,"last_update":{"author":"Ajit Kumar Panda","date":"2025-01-31T00:00:00.000Z"}},"sidebar":"refarchSidebar","previous":{"title":"Cost of Ownership","permalink":"/@preview/anbazhagan-uma-dev/docs/ref-arch/d31bedf420/5"},"next":{"title":"Edge Integration Cell on Hyperscalers","permalink":"/@preview/anbazhagan-uma-dev/docs/ref-arch/263f576c90"}}');var a=i(74848),s=i(28453);const r={id:"id-ra0007-6",slug:"/ref-arch/d31bedf420/6",sidebar_position:1,sidebar_custom_props:{category_index:[]},title:"Authentication Strategies",description:"Authentication Strategies",keywords:["sap","btp","multitenant","saas","cap"],sidebar_label:"Authentication Strategies",image:"img/logo.svg",tags:["appdev","cap","genai"],hide_table_of_contents:!1,hide_title:!1,toc_min_heading_level:2,toc_max_heading_level:4,draft:!1,unlisted:!1,contributors:["AjitKP91","alperdedeoglu"],discussion:null,last_update:{author:"Ajit Kumar Panda",date:new Date("2025-01-31T00:00:00.000Z")}},o=void 0,c={},d=[{value:"Strategies",id:"strategies",level:2},{value:"<em>SAP ID Service</em>",id:"sap-id-service",level:3},{value:"<em>Provider Owned ID Service</em>",id:"provider-owned-id-service",level:3},{value:"<em>Consumer-Specific ID Service</em>",id:"consumer-specific-id-service",level:3},{value:"Provider-Driven Patterns",id:"provider-driven-patterns",level:4},{value:"Consumer-Driven Patterns",id:"consumer-driven-patterns",level:4},{value:"References",id:"references",level:2}];function l(e){const t={a:"a",admonition:"admonition",br:"br",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"In multitenant applications, the authentication strategy is crucial to ensure that each tenant's data and configurations are kept separate from other tenants."}),"\n",(0,a.jsx)(t.h2,{id:"strategies",children:"Strategies"}),"\n",(0,a.jsx)(t.p,{children:"The following authentication strategies are possible:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.h3,{id:"sap-id-service",children:(0,a.jsx)(t.em,{children:"SAP ID Service"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.img,{alt:"mt-cap-auth-sap-idp",src:i(55759).A+"",width:"881",height:"691"}),(0,a.jsx)(t.br,{}),"\n","In this pattern, SAP ID Service is used to authenticate users which is the default identity provider for SAP BTP. This makes your solution dependent on SAP ID Service, which necessitates users of SaaS consumers to sign up for an SAP-managed user account. Upon successful authentication, shadow users are created within the corresponding consumer subaccount (tenant) provided they do not already exist. Access to the SaaS applications is determined by the roles assigned to these shadow users in the corresponding consumer subaccount."]}),"\n",(0,a.jsx)(t.p,{children:"This pattern is ideal when all users of SaaS consumers have an SAP ID Service account. It is also the simplest to set up as it requires no additional configuration. However, it is not suitable when users of SaaS consumers do not have an SAP ID Service account or when the SaaS consumers want to manage their user accounts n their own independently."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.h3,{id:"provider-owned-id-service",children:(0,a.jsx)(t.em,{children:"Provider Owned ID Service"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"mt-cap-auth-provider-cis",src:i(40656).A+"",width:"881",height:"711"})}),"\n",(0,a.jsxs)(t.admonition,{type:"info",children:[(0,a.jsx)(t.mdxAdmonitionTitle,{children:(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/cloud-identity-services?region=all",children:"SAP Cloud Identity Services"})}),(0,a.jsxs)(t.p,{children:["SAP Cloud Identity Services are a group of services of SAP Business Technology Platform (SAP BTP), which enable you to integrate identity and access management between systems. The goal is to provide a seamless single sign-on experience across systems while ensuring that system and data access are secure. SAP Cloud Identity Services include Identity Authentication, Identity Provisioning, Identity Directory and Authorization Management. For more info on its features, refer the ",(0,a.jsx)(t.a,{href:"https://help.sap.com/docs/cloud-identity-services/cloud-identity-services/what-is-identity-authentication#features",children:"SAP Cloud Identity Features documentation"}),"."]})]}),"\n",(0,a.jsxs)(t.p,{children:["In this pattern, the SaaS provider uses an independent identity provider to authenticate users. The SaaS provider owns and utilizes ",(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/cloud-identity-services?region=all",children:"SAP Cloud Identity Services"})," to manage user accounts centrally. Upon successful authentication, the user is redirected to the SaaS application. The SaaS application then uses the user's identity to determine the user's roles and access rights in the consumer subaccount via ",(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/authorization-and-trust-management-service?region=all",children:"SAP Authorization and Trust Management Service"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"This approach requires additional set up like setting up trust between SaaS provider's SAP Cloud Identity Services and the consumer subaccounts during the onboarding process. This pattern allows the SaaS provider to manage user accounts of SaaS Consumers independently of SAP ID Service. It also gives the SaaS provider more control over customizing the onboarding process (e.g., registration) and the user experience (e.g., login screens). Login procedures like social login or secure multi-factor authentication can be configured for each SaaS consumer."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.h3,{id:"consumer-specific-id-service",children:(0,a.jsx)(t.em,{children:"Consumer-Specific ID Service"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.h4,{id:"provider-driven-patterns",children:"Provider-Driven Patterns"}),"\n",(0,a.jsx)(t.p,{children:"Provider-driven integrations allow consumers to use their own identity provider within an SAP Cloud Identity Services tenant managed by the SaaS provider. This approach is ideal for consumers who prefer streamlined integration without the need for an SAP BTP Global Account or additional maintenance efforts, making setup and management more efficient."}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"In the following pattern, SaaS provider creates separate identity provider i.e. SAP Cloud Identity Services for each consumer in their subaccount. This pattern is ideal when a different registration or login process is required for each consumer, consumers do not own SAP BTP global account and data privacy regulations necessitate separate user management practices for each consumer."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"mt-cap-auth-consumer-idp-p-b",src:i(46579).A+"",width:"881",height:"711"})}),"\n",(0,a.jsxs)(t.p,{children:["This allows for greater customization and compliance with varying consumer needs and regulatory requirements, while maintaining clear separation of identity management across different consumer entities. SaaS provider can give consumers access to their own SAP Cloud Identity Services tenant, where they can manage their own users. The SaaS application uses the user's identity to determine the user's roles and access rights in the consumer subaccount via ",(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/authorization-and-trust-management-service?region=all",children:"SAP Authorization and Trust Management Service"}),". This approach requires additional setup like setting up trust between the consumer specific SAP Cloud Identity Services and the consumer subaccounts during the onboarding process."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.h4,{id:"consumer-driven-patterns",children:"Consumer-Driven Patterns"}),"\n",(0,a.jsx)(t.p,{children:"Consumer-driven integrations allow consumers wishing to use their own SAP Cloud Identity Services tenants or consumers preferring to directly integrate their own Identity Providers with SaaS provider owned consumer subaccounts."}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["In the following pattern, SaaS provider's SAP Cloud Identity Services acts as a proxy to delegate the authentication to consumer owned SAP Cloud Identity Services or a  3rd party iderntity provider using so called ",(0,a.jsx)(t.a,{href:"https://help.sap.com/docs/cloud-identity-services/cloud-identity-services/corporate-identity-providers",children:"Corporate Identity Providers"})," feature. User identity is managed by the consumer's identity provider, and the SaaS application uses the user's identity to determine the user's roles and access rights in the consumer subaccount via ",(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/authorization-and-trust-management-service?region=all",children:"SAP Authorization and Trust Management Service"}),"."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"mt-cap-auth-consumer-idp-c-a",src:i(10491).A+"",width:"881",height:"871"})}),"\n",(0,a.jsx)(t.p,{children:"This approach requires additional setup like setting up trust between the consumer's identity provider and the SaaS provider's SAP Cloud Identity Services as well setting up trust between SaaS provider's SAP Cloud Identity Services and the consumer subaccounts during the onboarding process. This approach offers a dual benefit: it provides customers with a centralized, efficient method for managing users, while also allowing them to tailor both the initial user setup (such as registration) and the user experience (e.g., login screens) to their specific needs and preferences."}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsx)(t.p,{children:"In the following pattern, consumer owned identity providers are directly integrated with the consumer subaccounts. This approach do not require SaaS provider to maintain any additional identity provider."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"mt-cap-auth-consumer-idp-c-b",src:i(29128).A+"",width:"881",height:"731"})}),"\n",(0,a.jsxs)(t.p,{children:["This approach requires additional setup like setting up trust between the consumer's identity provider and the consumer subaccounts during the onboarding process. The SaaS application uses the user's identity to determine the user's roles and access rights in the consumer subaccount via ",(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/authorization-and-trust-management-service?region=all",children:"SAP Authorization and Trust Management Service"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.admonition,{type:"info",children:[(0,a.jsx)(t.mdxAdmonitionTitle,{}),(0,a.jsx)(t.p,{children:"If you want to provide consumers user management capabilities within the SaaS application, consumer-driven patterns are not suitable."})]}),"\n",(0,a.jsx)(t.h2,{id:"references",children:"References"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://help.sap.com/docs/btp/sap-business-technology-platform/default-identity-provider",children:"Default Identity Provider"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/cloud-identity-services?region=all",children:"SAP Cloud Identity Services"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://help.sap.com/docs/cloud-identity-services/cloud-identity-services/corporate-identity-providers",children:"Corporate Identity Providers"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://discovery-center.cloud.sap/serviceCatalog/authorization-and-trust-management-service?region=all",children:"SAP Authorization and Trust Management Service"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://github.com/SAP-samples/btp-cap-multitenant-saas/blob/main/docu/3-advanced/2-central-user-management-ias/README.md",children:"Central user management using SAP Identity Authentication Service"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://github.com/SAP-samples/btp-cap-multitenant-saas/blob/main/docu/4-expert/integrate-consumers-idp/README.md",children:"Integration of Consumer IdPs"})}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);