"use strict";(globalThis.webpackChunksap_architecture_center=globalThis.webpackChunksap_architecture_center||[]).push([[4822],{40583:(e,t,n)=>{n.d(t,{u:()=>l});var r=n(59836),i=n(9410),s=n(87134);const o={getItem:e=>"undefined"==typeof window?null:localStorage.getItem(e),setItem:(e,t)=>{"undefined"!=typeof window&&localStorage.setItem(e,t)},removeItem:e=>{"undefined"!=typeof window&&localStorage.removeItem(e)}},a=(e,t)=>{if(!t)return null;for(const n of e){if(n.id===t)return n;if(n.children){const e=a(n.children,t);if(e)return e}}return null},l=(0,r.v)()((0,s.Zr)((e,t)=>({documents:[],lastSaveTimestamp:null,activeDocumentId:null,getDocuments:()=>t().documents,getActiveDocument:()=>{const{documents:e,activeDocumentId:n}=t(),r=a(e,n);return r?JSON.parse(JSON.stringify(r)):null},setActiveDocumentId:t=>e({activeDocumentId:t}),addDocument:(t,n=null)=>{const r={...t,id:(0,i.A)(),editorState:null,parentId:n};e(e=>({documents:[...e.documents,r],activeDocumentId:r.id,lastSaveTimestamp:(new Date).toLocaleString()}))},updateDocument:(t,n)=>{e(e=>({documents:e.documents.map(e=>e.id===t?{...e,...n}:e),lastSaveTimestamp:(new Date).toLocaleString()}))},deleteDocument:t=>{e(e=>{const n=e.documents.filter(e=>e.id!==t&&e.parentId!==t);let r=e.activeDocumentId;return e.activeDocumentId===t&&(r=n.length>0?n[0].id:null),{documents:n,activeDocumentId:r,lastSaveTimestamp:(new Date).toLocaleString()}})},resetStore:()=>{e({documents:[],lastSaveTimestamp:null,activeDocumentId:null})}}),{name:"docusaurus-editor-content",storage:(0,s.KU)(()=>o),onRehydrateStorage:()=>e=>{e&&(e.activeDocumentId=e.documents[0]?.id||null)},partialize:e=>({documents:e.documents,lastSaveTimestamp:e.lastSaveTimestamp})}))},43551:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var r=n(96540),i=n(16790),s=n(78478);const o={pageContainer:"pageContainer_kvCs",noDocumentSelected:"noDocumentSelected_Kp1G",mainContainer:"mainContainer_kcM2",centeredCardHeader:"centeredCardHeader_FsYB",authCard:"authCard_QCAV",authCardContent:"authCardContent_qDc1",warningDialogContent:"warningDialogContent__0Ez",warningIcon:"warningIcon_a7NS"};var a=n(56347),l=n(44586),c=n(40583),d=n(68043),u=n(74395),h=n(59359),m=n(74983),p=n(56658),g=n(50546),x=n(57839),j=n(6561),f=n(12117),v=n(64060),b=n(35476),C=n(48515),k=n(9680),_=n(74865),N=n(79552),y=n(66588),w=n(74848);const S=r.memo(function({open:e,initialData:t,onDataChange:n,onSave:i,onCancel:s}){const{siteConfig:o}=(0,l.A)(),{user:a,token:c}=(0,N.A)(),[S,T]=(0,r.useState)(""),[I,A]=(0,r.useState)([]),[E,D]=(0,r.useState)(!1),[L,P]=(0,r.useState)({}),z=(0,y.P_)("docusaurus-tags"),$=z?.tags||{},F=o.customFields?.expressBackendUrl,{availableTags:H,labelToKeyMap:U}=(0,r.useMemo)(()=>{if(!$||0===Object.keys($).length)return{availableTags:[],labelToKeyMap:new Map};const e=Object.entries($).map(([e,t])=>({key:e,label:t.label,description:t.description,count:t.count})),t=new Map(e.map(e=>[e.label,e.key]));return{availableTags:e,labelToKeyMap:t}},[$]),R=(0,r.useRef)(null),M=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!F||S.trim().length<3)return A([]),void D(!1);D(!0);const e=setTimeout(()=>{B()},200);return()=>{clearTimeout(e),R.current&&R.current.abort()}},[S,t.contributors,F,c]),(0,r.useEffect)(()=>{!E&&I.length>0&&M.current&&(M.current.open=!0)},[E,I]),(0,r.useEffect)(()=>{const e={...L};I.forEach(t=>{e[t.login]||(e[t.login]=t.avatar_url)}),P(e)},[I]);const B=async()=>{R.current&&R.current.abort(),R.current=new AbortController;const e=R.current.signal;try{const n=`${F}/user/github/search-users?q=${S}`,r=await fetch(n,{headers:{Authorization:`Bearer ${c}`},cache:"no-store",signal:e});if(!r.ok)throw new Error("Failed to fetch users");const i=await r.json();console.log("Fetched user data:",i);const s=new Set(t.contributors||[]),o=i.items.filter(e=>!s.has(e.login));A(o)}catch(n){"AbortError"!==n.name&&(console.error("Error searching for contributors:",n),A([]))}finally{D(!1),R.current=null}},J=(0,r.useMemo)(()=>{const e=new Map;return t.contributors?.forEach(t=>{e.set(t,{id:t,login:t,avatar_url:L[t]})}),I.forEach(t=>{e.set(t.login,{id:t.id,login:t.login,avatar_url:t.avatar_url})}),Array.from(e.values())},[I,t.contributors,L]),O=t?.title?.trim().length>0&&t?.tags?.length>0;return(0,w.jsx)(d.l,{open:e,style:{width:"650px"},header:(0,w.jsx)(u.y,{children:(0,w.jsx)(h.h,{children:"Create New Reference Architecture"})}),footer:(0,w.jsx)(u.y,{endContent:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.$,{design:"Emphasized",onClick:i,disabled:!O,children:"Create"}),(0,w.jsx)(m.$,{onClick:s,children:"Cancel"})]})}),children:(0,w.jsxs)(p.l,{style:{padding:"1rem"},children:[(0,w.jsx)(g.e,{labelContent:(0,w.jsx)(x.J,{required:!0,children:"Title"}),children:(0,w.jsx)(j.p,{value:t?.title||"",onInput:e=>n({title:e.target.value}),required:!0,placeholder:"Add your title..."})}),(0,w.jsx)(g.e,{labelContent:(0,w.jsx)(x.J,{children:"Description"}),children:(0,w.jsx)(f.f,{style:{minHeight:"80px",width:"100%"},value:t?.description||"",onInput:e=>n({description:e.target.value}),placeholder:"Add a short description (max 300 characters)..."})}),(0,w.jsx)(g.e,{labelContent:(0,w.jsx)(x.J,{required:!0,children:"Author"}),children:(0,w.jsxs)(v.p,{alignItems:"Center",children:[(0,w.jsx)("img",{src:a.avatar,alt:a.username,style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),(0,w.jsx)(b.E,{style:{marginLeft:"0.5rem"},children:a?.username||"Loading..."})]})}),(0,w.jsx)(g.e,{labelContent:(0,w.jsx)(x.J,{children:"Contributors"}),children:(0,w.jsxs)(C.n,{ref:M,filter:"None",placeholder:"Search or add a GitHub username...",noValidation:!0,value:S,onInput:e=>{T(e.target.value||"")},onSelectionChange:e=>{const t=e.detail.items||[];n({contributors:t.map(e=>e.text)})},onKeyDown:async e=>{if("Enter"===e.key&&S.trim()){e.preventDefault();const r=S.trim(),i=t.contributors||[];if(!i.includes(r)&&(n({contributors:[...i,r]}),!L[r])){const e=await(async e=>{try{const t=`${F}/github/user/${encodeURIComponent(e)}`,n=await fetch(t,{headers:{Authorization:`Bearer ${c}`},cache:"no-store"});if(!n.ok)throw new Error("Failed to fetch user");return(await n.json()).avatar_url||null}catch(t){return console.error("Error fetching single user:",t),null}})(r);e&&P(t=>({...t,[r]:e}))}T(""),A([])}},disabled:!F,children:[E&&(0,w.jsx)(k.e,{text:"Searching..."}),!E&&J.map(e=>(0,w.jsx)(k.e,{text:e.login,selected:t.contributors?.includes(e.login),children:(0,w.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,w.jsx)(_.e,{size:"XS",icon:e.avatar_url}),(0,w.jsx)("span",{children:e.login})]})},e.id))]})}),(0,w.jsx)(g.e,{labelContent:(0,w.jsx)(x.J,{required:!0,children:"Tags"}),children:(0,w.jsx)(C.n,{onSelectionChange:e=>{const t=e.detail.items.map(e=>{const t=e.text.replace(/ \(\d+\)$/,"");return U.get(t)}).filter(e=>!!e);n({tags:t})},placeholder:"Select at least one tag...",children:H.map(e=>(0,w.jsx)(k.e,{text:`${e.label} (${e.count})`,selected:t?.tags.includes(e.key)},e.key))})})]})})});var T=n(66234),I=n(41238),A=n(94617),E=n(45735);function D({onAddNew:e}){const t=(0,c.u)(e=>e.activeDocumentId);return t?(0,w.jsx)(s.A,{children:()=>{const r=n(48827).A;return(0,w.jsx)(r,{onAddNew:e},t)}}):(0,w.jsx)("div",{className:o.noDocumentSelected,children:"Please select or create a document."})}const L={title:"",tags:[],authors:[],contributors:[]};function P(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(L),[s,d]=(0,r.useState)(null),{documents:u,addDocument:h}=(0,c.u)(),m=(0,a.W6)(),{siteConfig:p}=(0,l.A)(),g=p.baseUrl,{users:x}=(0,N.A)();(0,r.useEffect)(()=>{0===u.length&&j(null)},[u.length]);const j=(e=null)=>{const n={...L,authors:x.github?[x.github.username]:[],contributors:x.github?[x.github.username]:[]};i(n),d(e),t(!0)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S,{open:e,initialData:n,onDataChange:e=>i(t=>({...t,...e})),onSave:()=>{h(n,s),t(!1)},onCancel:()=>{0===u.length&&m.push(g),t(!1)}}),(0,w.jsx)("main",{className:o.pageContainer,children:(0,w.jsx)(D,{onAddNew:j})})]})}function z(){const e=(0,a.W6)(),{siteConfig:t}=(0,l.A)(),n=t.baseUrl;return(0,w.jsx)(d.l,{open:!0,children:(0,w.jsxs)("div",{className:o.warningDialogContent,children:[(0,w.jsx)(I.I,{name:"alert",className:o.warningIcon}),(0,w.jsx)(b.E,{children:"The QuickStart editor is not available for mobiles and tablets."}),(0,w.jsx)(m.$,{design:"Emphasized",onClick:()=>{e.push(n)},children:"Return to Home"})]})})}function $(){const{siteConfig:e}=(0,l.A)(),{users:t,loading:n}=(0,N.A)(),r=(0,E.A)(),s=null!==t.github,{expressBackendUrl:a}=e.customFields;return r?(0,w.jsx)(i.A,{children:(0,w.jsx)(z,{})}):n?(0,w.jsxs)(i.A,{children:[(0,w.jsx)(T.A,{title:"Quick Start",subtitle:"Loading...",breadcrumbCurrent:"Quick Start"}),(0,w.jsx)("main",{className:o.mainContainer,children:(0,w.jsx)(v.p,{alignItems:"Center",justifyContent:"Center",style:{padding:"2rem"},children:(0,w.jsx)(b.E,{children:"Checking authentication..."})})})]}):s?(0,w.jsx)(i.A,{children:(0,w.jsx)(P,{})}):(0,w.jsxs)(i.A,{children:[(0,w.jsx)(T.A,{title:"Quick Start",subtitle:"GitHub authentication required to access the Quick Start tool",breadcrumbCurrent:"Quick Start"}),(0,w.jsx)("main",{className:o.mainContainer,children:(0,w.jsx)(A.Z,{header:(0,w.jsxs)(v.p,{className:o.centeredCardHeader,children:[(0,w.jsx)(I.I,{name:"locked"}),(0,w.jsx)(h.h,{level:"H5",wrappingType:"None",children:"GitHub Authentication Required"})]}),className:o.authCard,children:(0,w.jsxs)("div",{className:o.authCardContent,children:[(0,w.jsx)(b.E,{children:"The QuickStart editor requires GitHub authentication to manage your documents."}),(0,w.jsx)(b.E,{children:"Please log in with your GitHub account to continue."}),(0,w.jsx)(m.$,{design:"Emphasized",onClick:()=>{const t=`${window.location.origin}${e.baseUrl}quick-start`;window.location.href=`${a}/user/login?origin_uri=${encodeURIComponent(t)}&provider=github`},children:"Login with GitHub to Continue"}),(0,w.jsx)(b.E,{children:"After logging in, you'll be redirected back to this page."})]})})})]})}},45735:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(96540);const i=(e=996)=>{const[t,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const t=()=>{n(window.innerWidth<e)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t}},48827:(e,t,n)=>{n.d(t,{A:()=>zn});var r=n(96540),i=(n(19950),n(6246)),s=n(22038),o=n(60083),a=n(32708),l=n(12532),c=n(59798),d=n(90043),u=n(53439),h=n(45838),m=n(94439),p=n(66940),g=n(29325),x=n(9765),j=n(25035),f=n(61497),v=n(74983),b=n(68043),C=n(74395),k=n(35476),_=n(59359),N=n(40583),y=n(79552),w=n(48832),S=n(99393);const T="image_buwF",I="focused_pOvt";var A=n(74848);function E({src:e,altText:t,nodeKey:n,width:i,height:s}){const[o,a,l]=(0,S.Y)(n),[c]=(0,m.DF)(),d=(0,r.useCallback)(e=>{e.preventDefault(),o?l():(l(),a(!0))},[o,l,a]);return(0,A.jsx)("div",{draggable:!1,onClick:d,onContextMenu:d,children:(0,A.jsx)("img",{src:e,alt:t,className:o?`${T} ${I}`:T})})}function D(e){if(e instanceof HTMLImageElement){const{alt:t,src:n}=e;return{node:P({altText:t,src:n})}}return null}class L extends w.Kp7{static getType(){return"image"}static clone(e){return new L(e.__src,e.__altText,e.__width,e.__height,e.__key)}static importJSON(e){const{altText:t,height:n,width:r,src:i}=e;return P({altText:t,height:n,width:r,src:i})}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),{element:e}}static importDOM(){return{img:e=>({conversion:D,priority:0})}}createDOM(e){const t=document.createElement("span"),n=e.theme.image;return void 0!==n&&(t.className=n),t}updateDOM(){return!1}constructor(e,t,n,r,i){super(i),this.__src=e,this.__altText=t,this.__width=n||"inherit",this.__height=r||"inherit"}exportJSON(){return{altText:this.getAltText(),height:"inherit"===this.__height?0:this.__height,src:this.getSrc(),type:"image",version:1,width:"inherit"===this.__width?0:this.__width}}getSrc(){return this.__src}getAltText(){return this.__altText}decorate(){return(0,A.jsx)(E,{src:this.__src,altText:this.__altText,nodeKey:this.getKey(),width:this.__width,height:this.__height})}}function P({altText:e,height:t,src:n,width:r,key:i}){return(0,w.pTq)(new L(n,e,r,t,i))}const z=(0,w.guI)("INSERT_IMAGE_COMMAND"),$=(0,w.guI)("TOGGLE_IMAGE_DIALOG"),F=(0,w.guI)("INSERT_DRAWIO_COMMAND"),H=(0,w.guI)("OPEN_DRAWIO_DIALOG");function U(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!e.hasNodes([L]))throw new Error("ImagePlugin: ImageNode not registered on editor");const n=e.registerCommand(z,t=>(e.update(()=>{const e=(0,w.vJq)();if((0,w.I2P)(e)){const n=P(t);e.insertNodes([n])}}),!0),w.jZM),r=e.registerCommand($,()=>(t.current?.click(),!0),w.jZM);return()=>{n(),r()}},[e]),(0,A.jsx)("input",{type:"file",accept:"image/*",onChange:async n=>{const r=n.target.files?.[0];if(r)try{const t=await function(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{"string"==typeof r.result?t(r.result):n(new Error("FileReader did not return a string."))},r.onerror=n,r.readAsDataURL(e)})}(r);e.dispatchCommand(z,{src:t,altText:r.name})}catch(i){console.error("Error reading file:",i)}t.current&&(t.current.value="")},ref:t,style:{display:"none"}})}var R=n(27639),M=n(75107),B=n(35257),J=n(24256),O=n(39383),q=n(56265),K=n(80697),W=n(59612),G=n(96166),Q=n(28117),Y=n(84390),V=n(84009),Z=n(62345),X=n(17050),ee=n(93164),te=n(44854),ne=n(46071),re=n(70861),ie=n(90737),se=n(31845),oe=n(69308),ae=n(87332),le=n(92919),ce=n(29669),de=n(70820),ue=n(6388),he=n(70306),me=n(61885);const pe={name:"File",icon:(0,A.jsx)(Q.A,{size:20}),keywords:["file","upload","import","attach","document","docx"],onSelect:e=>{const t=document.createElement("input");t.type="file",t.accept=".txt,.md,.docx",t.style.display="none",t.onchange=n=>{const r=n.target,i=r.files?.[0];if(!i)return;const s=new FileReader;i.name.endsWith(".docx")?(s.readAsArrayBuffer(i),s.onload=async t=>{const n=t.target?.result;if(n)try{const t={convertImage:he.images.imgElement(()=>({}))},r=(await he.aY({arrayBuffer:n},t)).value;e.update(()=>{const t=(new DOMParser).parseFromString(r,"text/html"),n=(0,me.d)(e,t),i=(0,w.vJq)();(0,w.I2P)(i)&&i.insertNodes(n)})}catch(r){console.error("Error converting .docx file:",r),alert("Could not process the .docx file. It may be corrupted or in an unsupported format.")}}):(s.readAsText(i),s.onload=t=>{const n=t.target?.result;n&&e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&e.insertText(n)})}),s.onerror=e=>{console.error("Error reading file:",e),alert("An error occurred while reading the file.")},document.body.removeChild(t)},document.body.appendChild(t),t.click()}},ge="fixedToolbar_zdje",xe="group_TNAd",je="button_wYbC",fe="dropdownToggle_RWSU",ve="active_n929",be="divider_Ed_Y",Ce="dropdown_K52p",ke="dropdownMenu_jzM1",_e="dropdownItem_LvaA",Ne="dropdownMenuRight_sARw",ye={h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",paragraph:"Paragraph",quote:"Quote",ul:"Bulleted List",ol:"Numbered List"};function we(e,t){(0,r.useEffect)(()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[e,t])}function Se({editor:e,blockType:t}){const n=(0,r.useRef)(null),[i,s]=(0,r.useState)(!1);we(n,()=>s(!1));const o=t=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.zI)(e,()=>(0,p.fi)(t))}),s(!1)};return(0,A.jsxs)("div",{className:Ce,ref:n,children:[(0,A.jsxs)("button",{className:fe,onClick:()=>s(e=>!e),children:[ye[t]||"Paragraph",(0,A.jsx)(M.A,{size:16})]}),i&&(0,A.jsxs)("div",{className:ke,children:[(0,A.jsxs)("button",{className:_e,onClick:()=>o("h1"),children:[(0,A.jsx)(B.A,{size:18}),(0,A.jsx)("span",{children:"Heading 1"})]}),(0,A.jsxs)("button",{className:_e,onClick:()=>o("h2"),children:[(0,A.jsx)(J.A,{size:18}),(0,A.jsx)("span",{children:"Heading 2"})]}),(0,A.jsxs)("button",{className:_e,onClick:()=>o("h3"),children:[(0,A.jsx)(O.A,{size:18}),(0,A.jsx)("span",{children:"Heading 3"})]}),(0,A.jsxs)("button",{className:_e,onClick:()=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.zI)(e,()=>(0,p.xi)())}),s(!1)},children:[(0,A.jsx)(q.A,{size:18}),(0,A.jsx)("span",{children:"Quote"})]})]})]})}function Te({editor:e}){const t=(0,r.useRef)(null),[n,i]=(0,r.useState)(!1);we(t,()=>i(!1));return(0,A.jsxs)("div",{className:Ce,ref:t,children:[(0,A.jsxs)("button",{className:je,onClick:()=>i(e=>!e),children:[(0,A.jsx)(K.A,{size:16}),(0,A.jsx)("span",{style:{marginLeft:"4px"},children:"Insert"})]}),n&&(0,A.jsxs)("div",{className:`${ke} ${Ne}`,children:[(0,A.jsxs)("button",{className:_e,onClick:()=>{e.dispatchCommand($,void 0),i(!1)},children:[(0,A.jsx)(W.A,{size:18}),(0,A.jsx)("span",{children:"Image"})]}),(0,A.jsxs)("button",{className:_e,onClick:()=>{e.dispatchCommand(H,void 0),i(!1)},children:[(0,A.jsx)(G.A,{size:18}),(0,A.jsx)("span",{children:"Draw.io Diagram"})]}),(0,A.jsxs)("button",{className:_e,onClick:()=>{pe.onSelect(e),i(!1)},children:[(0,A.jsx)(Q.A,{size:18}),(0,A.jsx)("span",{children:"File"})]})]})]})}function Ie({isBold:e,isItalic:t,isUnderline:n,isStrikethrough:r,isCode:i,isLink:s,onLinkClick:o}){const[a]=(0,m.DF)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("button",{onClick:()=>a.dispatchCommand(w.mB,"bold"),className:`${je} ${e?ve:""}`,title:"Bold (Ctrl+B)",children:(0,A.jsx)(Y.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>a.dispatchCommand(w.mB,"italic"),className:`${je} ${t?ve:""}`,title:"Italic (Ctrl+I)",children:(0,A.jsx)(V.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>a.dispatchCommand(w.mB,"underline"),className:`${je} ${n?ve:""}`,title:"Underline (Ctrl+U)",children:(0,A.jsx)(Z.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>a.dispatchCommand(w.mB,"strikethrough"),className:`${je} ${r?ve:""}`,title:"Strikethrough",children:(0,A.jsx)(X.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>a.dispatchCommand(w.mB,"code"),className:`${je} ${i?ve:""}`,title:"Code",children:(0,A.jsx)(ee.A,{size:16})}),(0,A.jsx)("button",{onClick:o,className:`${je} ${s?ve:""}`,title:"Insert Link",children:(0,A.jsx)(te.A,{size:16})})]})}function Ae(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null),[n,i]=(0,r.useState)("paragraph"),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[_,N]=(0,r.useState)(!1),y=(0,r.useCallback)(()=>{const t=(0,w.vJq)();if((0,w.I2P)(t)){const n=t.anchor.getNode(),r="root"===n.getKey()?n:n.getTopLevelElementOrThrow(),s=r.getKey();if(null!==e.getElementByKey(s))if((0,g.HY)(r))i(r.getTag());else{const e=(0,p.Pi)(r)?r.getTag():r.getType();i(e)}o(t.hasFormat("bold")),l(t.hasFormat("italic")),d(t.hasFormat("underline")),h(t.hasFormat("strikethrough")),j(t.hasFormat("code"));const a=t.getNodes()[0],c=a.getParent();b((0,f.FJ)(c)||(0,f.FJ)(a))}},[e]);(0,r.useEffect)(()=>e.registerCommand(w.MvL,()=>(y(),!1),w.AcJ),[e,y]),(0,r.useEffect)(()=>e.registerCommand(w.KfJ,e=>(k(e),!1),w.AcJ),[e]),(0,r.useEffect)(()=>e.registerCommand(w.WWb,e=>(N(e),!1),w.AcJ),[e]);const S=(0,r.useCallback)(()=>{v?e.dispatchCommand(f.yW,null):e.dispatchCommand(f.yW,"https://")},[e,v]);return(0,A.jsxs)("div",{className:ge,ref:t,children:[(0,A.jsxs)("div",{className:xe,children:[(0,A.jsx)("button",{disabled:!C,onClick:()=>e.dispatchCommand(w.ZKf,void 0),className:je,title:"Undo (Ctrl+Z)",children:(0,A.jsx)(ne.A,{size:16})}),(0,A.jsx)("button",{disabled:!_,onClick:()=>e.dispatchCommand(w.V30,void 0),className:je,title:"Redo (Ctrl+Y)",children:(0,A.jsx)(re.A,{size:16})})]}),(0,A.jsx)("div",{className:be}),(0,A.jsx)("div",{className:xe,children:(0,A.jsx)(Se,{editor:e,blockType:n})}),(0,A.jsx)("div",{className:be}),(0,A.jsx)("div",{className:xe,children:(0,A.jsx)(Ie,{isBold:s,isItalic:a,isUnderline:c,isStrikethrough:u,isCode:x,isLink:v,onLinkClick:S})}),(0,A.jsx)("div",{className:be}),(0,A.jsxs)("div",{className:xe,children:[(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(g.q7,void 0),className:je,title:"Bulleted List",children:(0,A.jsx)(ie.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(g.x,void 0),className:je,title:"Numbered List",children:(0,A.jsx)(se.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.zI)(e,()=>(0,p.xi)())})},className:je,title:"Quote",children:(0,A.jsx)(q.A,{size:16})})]}),(0,A.jsx)("div",{className:be}),(0,A.jsxs)("div",{className:xe,children:[(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.fUS,"left"),className:je,title:"Align Left",children:(0,A.jsx)(oe.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.fUS,"center"),className:je,title:"Align Center",children:(0,A.jsx)(ae.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.fUS,"right"),className:je,title:"Align Right",children:(0,A.jsx)(le.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.fUS,"justify"),className:je,title:"Align Justify",children:(0,A.jsx)(ce.A,{size:16})})]}),(0,A.jsx)("div",{className:be}),(0,A.jsxs)("div",{className:xe,children:[(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.sik,void 0),className:je,title:"Outdent",children:(0,A.jsx)(de.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.PiT,void 0),className:je,title:"Indent",children:(0,A.jsx)(ue.A,{size:16})})]}),(0,A.jsx)("div",{className:be}),(0,A.jsx)("div",{className:xe,children:(0,A.jsx)(Te,{editor:e})})]})}var Ee=n(73105),De=n(40961),Le=n(3549);const Pe="floatingToolbar_lMBR",ze="group_t413",$e="button_yN6r",Fe="dropdownToggle__1sn",He="active_NUwN",Ue="divider_YUGY",Re="dropdown_zUBG",Me="dropdownMenu_LrcS",Be="dropdownItem_o4Rx",Je="h1_Akom",Oe="h2_t8C0",qe="h3_y3_e",Ke="linkEditor_zerj",We="linkInput_Himo",Ge="linkTrash_tL8e",Qe={h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",paragraph:"Paragraph"};function Ye(e){const t=e.anchor,n=e.anchor.getNode();return n===e.focus.getNode()||(0,R.Nx)(t)?n:n.getParent()}function Ve({editor:e,blockType:t}){const[n,i]=(0,r.useState)(!1),s=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const o=t=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.AH)(e,()=>(0,p.fi)(t))}),i(!1)};return(0,A.jsxs)("div",{className:Re,ref:s,children:[(0,A.jsxs)("button",{className:Fe,onClick:()=>i(!n),children:[Qe[t]||"Paragraph",(0,A.jsx)(M.A,{size:16})]}),n&&(0,A.jsxs)("div",{className:Me,children:[(0,A.jsxs)("button",{className:Be,onClick:()=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.AH)(e,()=>(0,w.lJ7)())}),i(!1)},children:[(0,A.jsx)(Le.A,{size:16})," Paragraph"]}),(0,A.jsxs)("button",{className:Be,onClick:()=>o("h1"),children:[(0,A.jsx)("span",{className:Je,children:"H1"})," Heading 1"]}),(0,A.jsxs)("button",{className:Be,onClick:()=>o("h2"),children:[(0,A.jsx)("span",{className:Oe,children:"H2"})," Heading 2"]}),(0,A.jsxs)("button",{className:Be,onClick:()=>o("h3"),children:[(0,A.jsx)("span",{className:qe,children:"H3"})," Heading 3"]})]})]})}function Ze({editor:e,onClose:t}){const n=(0,r.useRef)(null),[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e.getEditorState().read(()=>{const e=(0,w.vJq)();if((0,w.I2P)(e)){const t=Ye(e),n=t.getParent();(0,f.FJ)(n)?(s(n.getURL()),a(!0)):(0,f.FJ)(t)&&(s(t.getURL()),a(!0))}}),setTimeout(()=>n.current?.focus(),0)},[e]);return(0,A.jsxs)("div",{className:Ke,children:[(0,A.jsx)("input",{ref:n,className:We,value:i,onChange:e=>s(e.target.value),onKeyDown:n=>{"Enter"===n.key||" "===n.key?(n.preventDefault(),""!==i.trim()&&e.dispatchCommand(f.yW,i),t()):"Escape"===n.key&&(n.preventDefault(),t())},placeholder:"https://example.com"}),o&&(0,A.jsx)("button",{className:Ge,onClick:()=>{e.dispatchCommand(f.yW,null),t()},children:"\ud83d\uddd1"})]})}function Xe(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)("paragraph"),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),j=(0,r.useCallback)(()=>{const e=(0,w.vJq)();if((0,w.I2P)(e)){const t=Ye(e),n=t.getParent(),r=(0,p.Pi)(n)?n:(0,p.Pi)(t)?t:null;if(r){const e=r.getTag();o("h1"===e||"h2"===e||"h3"===e?e:"paragraph")}else o("paragraph");l(e.hasFormat("bold")),d(e.hasFormat("italic")),h(e.hasFormat("underline")),x((0,f.FJ)(n)||(0,f.FJ)(t))}},[]);return(0,r.useEffect)(()=>{const r=t.current;if(!r)return;return(0,Ee.Sd)(e.registerUpdateListener(({editorState:e})=>{e.read(()=>j())}),e.registerCommand(w.MvL,()=>{const e=(0,w.vJq)();return(0,w.I2P)(e)&&!e.isCollapsed()?(()=>{const e=window.getSelection();if(!e||0===e.rangeCount)return;const t=e.getRangeAt(0).getBoundingClientRect(),n=window.scrollY+t.top-r.offsetHeight-5,i=window.scrollX+t.left;r.style.opacity="1",r.style.top=`${n}px`,r.style.left=`${i}px`})():n||(r.style.opacity="0",r.style.top="-1000px",r.style.left="-1000px",i(!1)),!1},1))},[e,j,n]),(0,A.jsx)("div",{ref:t,className:Pe,children:n?(0,A.jsx)(Ze,{editor:e,onClose:()=>i(!1)}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ve,{editor:e,blockType:s}),(0,A.jsx)("div",{className:Ue}),(0,A.jsxs)("div",{className:ze,children:[(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.mB,"bold"),className:`${$e} ${a?He:""}`,children:(0,A.jsx)(Y.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.mB,"italic"),className:`${$e} ${c?He:""}`,children:(0,A.jsx)(V.A,{size:16})}),(0,A.jsx)("button",{onClick:()=>e.dispatchCommand(w.mB,"underline"),className:`${$e} ${u?He:""}`,children:(0,A.jsx)(Z.A,{size:16})})]}),(0,A.jsx)("div",{className:Ue}),(0,A.jsx)("div",{className:ze,children:(0,A.jsx)("button",{onClick:()=>i(!0),className:`${$e} ${g?He:""}`,children:(0,A.jsx)(te.A,{size:16})})})]})})}function et(){return(0,De.createPortal)((0,A.jsx)(Xe,{}),document.body)}const tt="drawioContainer_j2ZE";function nt({diagramXML:e}){const t=(0,r.useMemo)(()=>`https://viewer.diagrams.net/?lightbox=1&edit=_blank&layers=1&nav=1#R${encodeURIComponent(e)}`,[e]);return(0,A.jsx)("div",{className:tt,children:(0,A.jsx)("iframe",{src:t,title:"Draw.io Diagram Preview"})})}class rt extends w.Kp7{static getType(){return"drawio"}static clone(e){return new rt(e.__diagramXML,e.__key)}static importJSON(e){return it(e.diagramXML)}exportJSON(){return{diagramXML:this.__diagramXML,type:"drawio",version:1}}createDOM(e){const t=document.createElement("div");return t.style.display="contents",t}updateDOM(){return!1}constructor(e,t){super(t),this.__diagramXML=e}decorate(){return(0,A.jsx)(nt,{diagramXML:this.__diagramXML})}}function it(e){return(0,w.pTq)(new rt(e))}function st(){const[e]=(0,m.DF)(),t=(0,r.useRef)(null),n=t=>{if(!t||!t.name.toLowerCase().endsWith(".drawio"))return void console.warn("Invalid file type. Please upload a .drawio file.");const n=new FileReader;n.onload=t=>{const n=t.target?.result;n&&e.dispatchCommand(F,n)},n.readAsText(t)};return(0,r.useEffect)(()=>{if(!e.hasNodes([rt]))throw new Error("DrawioPlugin: DrawioNode not registered on editor");const r=e.registerCommand(F,t=>(e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&e.insertNodes([it(t)])}),!0),w.jZM),i=e.registerCommand(H,()=>(t.current?.click(),!0),w.jZM),s=e.getRootElement(),o=e=>{e.preventDefault()},a=e=>{e.preventDefault();const t=e.dataTransfer?.files;if(t&&t.length>0){const e=Array.from(t).find(e=>e.name.toLowerCase().endsWith(".drawio"));e&&n(e)}};return s&&(s.addEventListener("dragover",o),s.addEventListener("drop",a)),()=>{r(),i(),s&&(s.removeEventListener("dragover",o),s.removeEventListener("drop",a))}},[e]),(0,A.jsx)("input",{type:"file",accept:".drawio",onChange:e=>{const t=e.target.files?.[0];t&&n(t),e.target.value=""},ref:t,style:{display:"none"}})}const ot="tocContainer_dcOI",at="tocList_wPsL",lt="tocItem_xuHY",ct="active_RzBK";function dt(){const[e]=(0,m.DF)(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(null),{getActiveDocument:o}=(0,N.u)();(0,r.useEffect)(()=>{const r=e.registerUpdateListener(({editorState:e})=>{const r=o();r&&e.read(()=>{const e=(0,w.NiT)(),i=[];r.title&&i.push({key:"article-header",text:r.title,level:1}),e.getChildren().forEach(e=>{(0,p.Pi)(e)&&i.push({key:e.getKey(),text:e.getTextContent(),level:parseInt(e.getTag().substring(1),10)})}),JSON.stringify(t)!==JSON.stringify(i)&&n(i)})});return()=>r()},[e,o,t]);const a=t=>{(t=>{e.update(()=>{const n="article-header"===t?document.getElementById("article-header"):e.getElementByKey(t);if(n){const e=document.querySelector(".navbar--fixed-top"),t=e?e.offsetHeight:0,r=20,i=n.getBoundingClientRect().top+window.scrollY-t-r;window.scrollTo({top:i,behavior:"smooth"})}})})(t),s(t)};return(0,A.jsx)("div",{className:ot,children:(0,A.jsx)("ul",{className:at,children:t.length>0?t.map(e=>(0,A.jsx)("li",{className:`${lt} ${e.key===i?ct:""}`,"data-level":e.level,onClick:()=>a(e.key),title:e.text,children:e.text},e.key)):(0,A.jsx)("li",{className:lt,"data-level":"1",children:"No headings yet."})})})}var ut=n(95591);const ht="typeahead-popover_XPSu",mt="selected_vMYK",pt="icon_l3og",gt="text_lPfR",xt="hint_h1zO",jt="menuFooter_nkwt",ft="footerKey_N8ue";class vt extends ut.BB{constructor(e,t){super(e),this.name=e,this.icon=t.icon,this.keywords=t.keywords||[],this.hint=t.hint,this.onSelect=t.onSelect}}function bt({isSelected:e,onClick:t,onMouseEnter:n,option:r}){return(0,A.jsxs)("li",{ref:r.setRefElement,className:e?mt:"",onClick:t,onMouseEnter:n,role:"option","aria-selected":e,children:[(0,A.jsx)("span",{className:pt,children:r.icon}),(0,A.jsx)("span",{className:gt,children:r.name}),r.hint&&(0,A.jsx)("span",{className:xt,children:r.hint})]},r.key)}function Ct({options:e,onSelectOption:t,selectedIndex:n,queryString:r}){return(0,A.jsxs)("div",{className:ht,children:[(0,A.jsx)("ul",{children:e.map((e,r)=>(0,A.jsx)(bt,{isSelected:n===r,onClick:()=>t(e),onMouseEnter:()=>{},option:e},e.key))}),(0,A.jsxs)("div",{className:jt,children:[(0,A.jsx)("span",{children:r?(0,A.jsxs)(A.Fragment,{children:["/",(0,A.jsx)("b",{children:r})]}):"Type '/' on the page"}),(0,A.jsx)("span",{className:ft,children:"esc"})]})]})}function kt(){const[e]=(0,m.DF)(),[t,n]=(0,r.useState)(null);console.log("SlashCommandPlugin has mounted.");const i=(0,r.useMemo)(()=>[new vt("Paragraph",{icon:(0,A.jsx)(Le.A,{size:20}),keywords:["paragraph","text","p"],onSelect:e=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.zI)(e,()=>(0,w.lJ7)())})}}),new vt("Heading 1",{icon:(0,A.jsx)(B.A,{size:20}),keywords:["heading","h1","header"],hint:"#",onSelect:e=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.zI)(e,()=>(0,p.fi)("h1"))})}}),new vt("Heading 2",{icon:(0,A.jsx)(J.A,{size:20}),keywords:["heading","h2","header"],hint:"##",onSelect:e=>{e.update(()=>{const e=(0,w.vJq)();(0,w.I2P)(e)&&(0,R.zI)(e,()=>(0,p.fi)("h2"))})}}),new vt("Bulleted List",{icon:(0,A.jsx)(ie.A,{size:20}),keywords:["bullet","list","ul"],hint:"-",onSelect:e=>{e.dispatchCommand(g.q7,void 0)}}),new vt("Numbered List",{icon:(0,A.jsx)(se.A,{size:20}),keywords:["numbered","list","ol"],hint:"1.",onSelect:e=>{e.dispatchCommand(g.x,void 0)}}),new vt("Image",{icon:(0,A.jsx)(W.A,{size:20}),keywords:["image","photo","picture","img"],onSelect:e=>{e.dispatchCommand($,void 0)}}),new vt("Draw.io Diagram",{icon:(0,A.jsx)(G.A,{size:20}),keywords:["drawio","diagram","draw","flowchart"],onSelect:e=>{e.dispatchCommand(H,void 0)}}),new vt(pe.name,{...pe})],[]),s=(0,r.useMemo)(()=>{if(!t)return i;const e=t.toLowerCase();return i.filter(t=>t.name.toLowerCase().includes(e)||t.keywords.some(t=>t.includes(e)))},[i,t]),o=(0,ut.mx)("/",{minLength:0}),a=(0,r.useCallback)((t,n,r)=>{e.update(()=>{n&&n.remove(),t.onSelect(e),r()})},[e]);return(0,A.jsx)(ut.QP,{onQueryChange:e=>{console.log("Query changed:",e),n(e)},onSelectOption:a,triggerFn:o,options:s,menuRenderFn:(e,{selectedIndex:n,selectOptionAndCleanUp:r})=>(console.log("menuRenderFn is being called. Anchor:",e.current,"Options count:",s.length),e.current&&s.length>0?De.createPortal((0,A.jsx)(Ct,{options:s,selectedIndex:n,onSelectOption:e=>{r(e)},queryString:t}),e.current):null)})}function _t(){const[e]=(0,m.DF)(),t=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{if(t.current)return;let n=!1;e.update(()=>{const e=(0,w.NiT)();if(e.isEmpty()){const t=(0,w.lJ7)();e.append(t),n=!0}}),n&&setTimeout(()=>{e.focus()},0),t.current=!0},[e]),null}const Nt={editorPageWrapper:"editorPageWrapper_ru3S",navColumn:"navColumn_oxZt",mainAndTocWrapper:"mainAndTocWrapper_yS6z",editorColumn:"editorColumn_kzIv",editorContentWrapper:"editorContentWrapper__I57",tocColumn:"tocColumn_vtDV",editorContainer:"editorContainer_KnxE",contentHeader:"contentHeader_D9sj",editorInner:"editorInner_J7uk",editorInput:"editorInput_qkze",editorPlaceholder:"editorPlaceholder_sOt1",editorHeader:"editorHeader_Vu6D",saveTimestamp:"saveTimestamp_WBtD",headerButtons:"headerButtons_A9kd",editorTextBold:"editorTextBold_jGug",editorTextItalic:"editorTextItalic_zscZ",editorTextUnderline:"editorTextUnderline_ws7Z",editorTextStrikethrough:"editorTextStrikethrough_kSUe",editorTextUnderlineStrikethrough:"editorTextUnderlineStrikethrough_vK1R",editorTextCode:"editorTextCode_KBvZ",editorParagraph:"editorParagraph_iPKb",editorH1:"editorH1_VuK0",editorH2:"editorH2_VFP5",editorH3:"editorH3_dG1S",editorH4:"editorH4_QxYJ",editorH5:"editorH5_cK2Z",editorQuote:"editorQuote_mp9z",editorUList:"editorUList_HtHL",editorOList:"editorOList_ALAl",editorListItem:"editorListItem_aNug",editorNestedListItem:"editorNestedListItem_dkfI",editorLink:"editorLink_WykR",editorCode:"editorCode_JD40",editorImage:"editorImage_SEl5",ltr:"ltr_yvot",rtl:"rtl_nZSQ",editorTokenComment:"editorTokenComment_bFoZ",editorTokenPunctuation:"editorTokenPunctuation_j1nM",editorTokenProperty:"editorTokenProperty_mB_7",editorTokenSelector:"editorTokenSelector_s2mQ",editorTokenOperator:"editorTokenOperator_BbGX",editorTokenAttr:"editorTokenAttr_brx6",editorTokenVariable:"editorTokenVariable_pBr2",editorTokenFunction:"editorTokenFunction_ZjKa",dialogContent:"dialogContent_wSa6"},yt={ltr:Nt.ltr,rtl:Nt.rtl,placeholder:Nt.editorPlaceholder,paragraph:Nt.editorParagraph,quote:Nt.editorQuote,heading:{h1:Nt.editorH1,h2:Nt.editorH2,h3:Nt.editorH3,h4:Nt.editorH4,h5:Nt.editorH5},list:{nested:{listitem:Nt.editorNestedListItem},ol:Nt.editorOList,ul:Nt.editorUList,listitem:Nt.editorListItem},link:Nt.editorLink,text:{bold:Nt.editorTextBold,italic:Nt.editorTextItalic,underline:Nt.editorTextUnderline,strikethrough:Nt.editorTextStrikethrough,underlineStrikethrough:Nt.editorTextUnderlineStrikethrough,code:Nt.editorTextCode},image:Nt.editorImage,code:Nt.editorCode,codeHighlight:{atrule:Nt.editorTokenAttr,attr:Nt.editorTokenAttr,boolean:Nt.editorTokenProperty,builtin:Nt.editorTokenSelector,cdata:Nt.editorTokenComment,char:Nt.editorTokenSelector,class:Nt.editorTokenFunction,"class-name":Nt.editorTokenFunction,comment:Nt.editorTokenComment,constant:Nt.editorTokenProperty,deleted:Nt.editorTokenProperty,doctype:Nt.editorTokenComment,entity:Nt.editorTokenOperator,function:Nt.editorTokenFunction,important:Nt.editorTokenVariable,inserted:Nt.editorTokenSelector,keyword:Nt.editorTokenAttr,namespace:Nt.editorTokenVariable,number:Nt.editorTokenProperty,operator:Nt.editorTokenOperator,prolog:Nt.editorTokenComment,property:Nt.editorTokenProperty,punct:Nt.editorTokenPunctuation,regex:Nt.editorTokenVariable,selector:Nt.editorTokenSelector,string:Nt.editorTokenSelector,symbol:Nt.editorTokenProperty,tag:Nt.editorTokenProperty,url:Nt.editorTokenOperator,variable:Nt.editorTokenVariable}},wt="navContainer_OGS4",St="navItem_J1en",Tt="active_WzCq",It="rootItem_akss",At="childrenList_Bxbi",Et="itemTitle_ed9X",Dt="itemActions_alYv",Lt=({onAddNew:e})=>{const{documents:t,activeDocumentId:n,setActiveDocumentId:r}=(0,N.u)(),i=s=>{const o=t.filter(e=>e.parentId===s.id);return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:`${St} ${s.parentId?"":It} ${s.id===n?Tt:""}`,onClick:()=>r(s.id),children:[(0,A.jsx)("span",{className:Et,title:s.title||"Untitled Page",children:s.title||"Untitled Page"}),(0,A.jsx)("div",{className:Dt,children:(0,A.jsx)(v.$,{design:"Transparent",icon:"add",onClick:t=>{(e=>{e.stopPropagation()})(t),e(s.id)},tooltip:"Add sub-page"})})]}),o.length>0&&(0,A.jsx)("ul",{className:At,children:o.map(e=>(0,A.jsx)("li",{children:i(e)},e.id))})]},s.id)},s=t.filter(e=>null===e.parentId);return(0,A.jsx)("div",{className:wt,children:s.map(e=>i(e))})};var Pt=n(44586),zt=n(56347);n(2954);const $t="overlay_CdmC",Ft="modal_n3OA",Ht="progressContainer_VBC5",Ut="rocket_izUw",Rt="rocketLaunched_YC5v",Mt="punText_r9iG",Bt="fireworks_kkrq",Jt="resultContainer_IKiQ",Ot="errorMessage_vKPx",qt="buttonGroup_Kvbk",Kt={forking:"Charting the course to the cosmos...",packaging:"Securing the payload for orbit...",committing:"Final countdown engaged... ignition!"};function Wt({status:e,error:t,commitUrl:n,pullRequestUrl:r,onClose:i,onSuccessFinish:s}){if("idle"===e)return null;const o="forking"===e||"packaging"===e||"committing"===e,a="success"===e?`${Ut} ${Rt}`:Ut;return(0,A.jsx)("div",{className:$t,children:(0,A.jsxs)("div",{className:Ft,children:["success"===e&&(0,A.jsx)("img",{src:"/img/fireworks.gif",alt:"Success fireworks",className:Bt}),o&&(0,A.jsxs)("div",{className:Ht,children:[(0,A.jsx)("h2",{children:"Preparing for Liftoff"}),(0,A.jsx)("img",{src:"/img/rocket.gif",alt:"Rocket preparing for launch",className:a}),(0,A.jsx)("p",{className:Mt,children:Kt[e]})]}),"success"===e&&(0,A.jsxs)("div",{className:Jt,children:[(0,A.jsx)("img",{src:"/img/rocket.gif",alt:"Rocket launching",className:a}),(0,A.jsx)("h3",{children:"We Have Liftoff!"}),(0,A.jsx)("p",{children:"Your document has been published and a pull request has been created successfully."}),(0,A.jsx)("div",{className:qt,children:(0,A.jsx)(v.$,{design:"Emphasized",onClick:s,children:r?"View Pull Request & Finish":"View on GitHub & Finish"})})]}),"error"===e&&(0,A.jsxs)("div",{className:Jt,children:[(0,A.jsx)("h3",{children:"Mission Aborted"}),(0,A.jsx)("p",{className:Ot,children:t||"An unknown error occurred."}),(0,A.jsx)(v.$,{onClick:i,children:"Return to Hangar"})]})]})})}var Gt=n(57839),Qt=n(6561),Yt=n(12117),Vt=n(48515),Zt=n(9680),Xt=(n(57010),n(66588));const en={container:"container_TaWc",actions:"actions_bfdm",displayTitle:"displayTitle_SdI2",tagsContainer:"tagsContainer_isMt",tag:"tag_MpF0",placeholder:"placeholder_rqMs",updateInfo:"updateInfo_w9rF",containerEditing:"containerEditing_lYqf",formField:"formField_rjnK",titleInput:"titleInput_iUMq",descriptionInput:"descriptionInput_VJcY",editingActions:"editingActions_g6EA",cancelButton:"cancelButton_TD8J"},tn=e=>{if(!e)return"N/A";try{const t=e.split(",")[0],n=t.split("/");if(3!==n.length)return t;const[r,i,s]=n,o=new Date(s,i-1,r);return isNaN(o.getTime())?t:o.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return e.split(",")[0]}};function nn(){const{getActiveDocument:e,updateDocument:t,lastSaveTimestamp:n}=(0,N.u)(),i=e(),s=(0,Xt.Ay)()["docusaurus-tags"].default.tags||{},{availableTags:o,tagKeyToLabelMap:a}=(0,r.useMemo)(()=>{if(!s||0===Object.keys(s).length)return{availableTags:[],tagKeyToLabelMap:new Map};const e=Object.entries(s).filter(([e])=>"demo"!==e).map(([e,t])=>({key:e,label:t.label,description:t.description})),t=new Map(e.map(e=>[e.key,e.label]));return{availableTags:e,tagKeyToLabelMap:t}},[s]),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({title:"",tags:[],description:""});if(!i)return null;const h=()=>{const e=d.tags.map(e=>e.key);t(i.id,{title:d.title,tags:e,description:d.description}),c(!1)},m=()=>{c(!1)};return l?(0,A.jsxs)("div",{id:"article-header",className:en.containerEditing,children:[(0,A.jsxs)("div",{className:en.formField,children:[(0,A.jsx)(Gt.J,{for:"titleInput",children:"Title"}),(0,A.jsx)(Qt.p,{id:"titleInput",value:d.title,className:en.titleInput,placeholder:"Enter a title...",onInput:e=>u(t=>({...t,title:e.target.value}))})]}),(0,A.jsxs)("div",{className:en.formField,children:[(0,A.jsxs)("div",{className:en.formField,children:[(0,A.jsx)(Gt.J,{for:"descriptionInput",children:"Description"}),(0,A.jsx)(Yt.f,{id:"descriptionInput",value:d.description,className:en.descriptionInput,placeholder:"Enter a description",rows:3,onInput:e=>u(t=>({...t,description:e.target.value}))})]}),(0,A.jsx)(Gt.J,{for:"tagsInput",children:"Tags"}),(0,A.jsx)(Vt.n,{id:"tagsInput",placeholder:"Select tags",onSelectionChange:e=>{const t=e.detail.items.map(e=>o.find(t=>t.label===e.text)).filter(Boolean);u(e=>({...e,tags:t}))},children:o.map(e=>(0,A.jsx)(Zt.e,{text:e.label,selected:d.tags.some(t=>t.key===e.key)},e.key))})]}),(0,A.jsxs)("div",{className:en.formField,children:[(0,A.jsx)(Gt.J,{for:"authorsInput",children:"Author"}),(0,A.jsx)("div",{className:en.authorDisplay,children:i.authors.length>0?i.authors.join(", "):"N/A"})]}),(0,A.jsxs)("div",{className:en.editingActions,children:[(0,A.jsx)(v.$,{onClick:h,design:"Emphasized",children:"Save"}),(0,A.jsx)(v.$,{onClick:m,design:"Transparent",className:en.cancelButton,children:"Cancel"})]})]}):(0,A.jsxs)("div",{id:"article-header",className:en.container,children:[(0,A.jsx)("h1",{className:en.displayTitle,children:i.title||"Untitled Page"}),(0,A.jsx)("div",{className:en.actions,children:(0,A.jsx)(v.$,{icon:"edit",design:"Transparent",onClick:()=>{const e=i.tags.map(e=>o.find(t=>t.key===e)).filter(Boolean);u({title:i.title,tags:e,description:i.description||""}),c(!0)}})}),(0,A.jsx)("div",{className:en.tagsContainer,children:i.tags.length>0&&i.tags.map(e=>(0,A.jsx)("span",{className:en.tag,children:a.get(e)||e},e))}),(0,A.jsxs)("p",{className:en.updateInfo,children:["Last updated on ",(0,A.jsx)("strong",{children:tn(n)})," by"," ",(0,A.jsx)("strong",{children:i.authors.length>0?i.authors.join(", "):"Unknown"})]})]})}var rn=n(41238);n(1391),n(61691);const sn="breadcrumbNav_GfPT",on="breadcrumbList_wHQa",an="breadcrumbItem_fTR3",ln="breadcrumbLink_wqV3",cn="breadcrumbCurrent_HsZU",dn="homeIcon_Msuu",un="separator_jdJ0",hn=({path:e})=>e&&0!==e.length?(0,A.jsx)("nav",{"aria-label":"breadcrumb",className:sn,children:(0,A.jsxs)("ol",{className:on,children:[(0,A.jsx)("li",{className:an,children:(0,A.jsx)("a",{href:"/",className:ln,children:(0,A.jsx)(rn.I,{name:"home",className:dn})})}),e.map((t,n)=>(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)("li",{className:un,children:(0,A.jsx)(rn.I,{name:"slim-arrow-right"})}),(0,A.jsx)("li",{className:an,"aria-current":n===e.length-1?"page":void 0,children:n===e.length-1?(0,A.jsx)("span",{className:cn,children:t.title}):(0,A.jsx)("a",{href:"#",className:ln,children:t.title})})]},t.id))]})}):null;var mn=n(74865),pn=n(64060);n(17658);const gn="container_h17w",xn="titleWrapper_hlrD",jn="infoIcon_D1u7",fn="title_VH7a",vn="list_X3OL",bn="contributor_QDrD",Cn="username_gOYy",kn="avatar_HK9E",_n="editButton_v0KQ",Nn="editContainer_fIbb",yn="multiComboBox_Atjw",wn="comboItem_buWv",Sn="noContributors_B9go",Tn=({contributors:e,onContributorsChange:t})=>{const{siteConfig:n}=(0,Pt.A)(),{token:i}=(0,y.A)(),s=n.customFields?.expressBackendUrl,[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(""),[h,m]=(0,r.useState)([]),[p,g]=(0,r.useState)(!1),[x,j]=(0,r.useState)({}),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!s||d.trim().length<3||!o)return m([]),void g(!1);g(!0);const e=setTimeout(()=>b(),300);return()=>{clearTimeout(e),f.current&&f.current.abort()}},[d,o]);const b=async()=>{f.current&&f.current.abort(),f.current=new AbortController;const e=f.current.signal;try{const t=`${s}/user/github/search-users?q=${d}`,n=await fetch(t,{headers:{Authorization:`Bearer ${i}`},cache:"no-store",signal:e});if(!n.ok)throw new Error("Failed to fetch users");const r=await n.json(),o=new Set(l||[]);m(r.items.filter(e=>!o.has(e.login)))}catch(t){"AbortError"!==t.name&&console.error("Error searching:",t)}finally{g(!1)}},C=(0,r.useMemo)(()=>{const e=new Map;l?.forEach(t=>{e.set(t,{id:t,login:t,avatar_url:x[t]})}),h.forEach(t=>{e.set(t.login,{id:t.id,login:t.login,avatar_url:t.avatar_url})});const t=Array.from(e.values());return t.sort((e,t)=>{const n=l.includes(e.login),r=l.includes(t.login);return Number(n)-Number(r)}),t},[h,l,x]);return(0,A.jsxs)("div",{className:gn,children:[(0,A.jsxs)("div",{className:xn,children:[(0,A.jsx)(rn.I,{name:"information",className:jn}),(0,A.jsx)("h3",{className:fn,children:"Contributors"}),!o&&(0,A.jsx)(v.$,{design:"Transparent",icon:"edit",onClick:()=>{c([...e]),a(!0)},className:_n,tooltip:"Edit Contributors"})]}),o?(0,A.jsxs)("div",{className:Nn,children:[(0,A.jsxs)(Vt.n,{filter:"None",placeholder:"Search or add a GitHub username...",value:d,onInput:e=>{u(e.target.value||"")},onSelectionChange:e=>{const t=(e.detail.items||[]).map(e=>e.text);c(e=>[...e.filter(e=>t.includes(e)),...t.filter(t=>!e.includes(t))])},onKeyDown:async e=>{if("Enter"===e.key&&d.trim()){e.preventDefault();const t=d.trim(),n=l||[];n.includes(t)||c([...n,t]),u(""),m([])}},disabled:!s,className:yn,children:[p&&(0,A.jsx)(Zt.e,{text:"Searching..."}),C.map(e=>(0,A.jsx)(Zt.e,{text:e.login,selected:l.includes(e.login),children:(0,A.jsxs)("div",{className:wn,children:[(0,A.jsx)(mn.e,{size:"XS",icon:`https://github.com/${e.login}.png`}),(0,A.jsx)("span",{children:e.login})]})},e.id))]}),(0,A.jsxs)(pn.p,{gap:"0.5rem",children:[(0,A.jsx)(v.$,{design:"Emphasized",onClick:()=>{t?.(l),a(!1)},children:"Save"}),(0,A.jsx)(v.$,{onClick:()=>{a(!1)},children:"Cancel"})]})]}):(0,A.jsx)("div",{className:vn,children:e&&e.length>0?e.map((t,n)=>(0,A.jsxs)("a",{href:`https://github.com/${t}`,target:"_blank",rel:"noopener noreferrer",className:bn,children:[(0,A.jsx)("img",{src:`https://github.com/${t}.png`,alt:`Profile of ${t}`,className:kn}),(0,A.jsx)("span",{className:Cn,children:t}),n<e.length-1&&","]},t)):(0,A.jsx)("span",{className:Sn,children:"No contributors listed. Click the edit icon to add one."})})]})},In=(e,t)=>{const n=t.find(t=>t.id===e);if(!n)return null;const r=t.filter(t=>t.parentId===e).map(e=>In(e.id,t)).filter(Boolean);return{...n,children:r}},An=e=>({id:e.id,editorState:e.editorState,parentId:e.parentId,children:e.children?e.children.map(An):[],metadata:{title:e.title,tags:e.tags,authors:e.authors,contributors:e.contributors,description:e.description||"This is a default description."}});function En(){return(0,A.jsx)("div",{className:Nt.editorPlaceholder,children:"Type / to get started"})}const Dn=[p.jL,p.dJ,g.v5,g.YW,x.iK,x.yy,j.HA,j.B9,j.py,f.k_,f.Db,L,rt],Ln=()=>{const[e]=(0,m.DF)(),{getActiveDocument:t,updateDocument:n}=(0,N.u)();return(0,A.jsx)(h.D,{onChange:e=>{const r=t();if(r){const t=JSON.stringify(e.toJSON());t!==r.editorState&&n(r.id,{editorState:t})}}})},Pn=e=>new Promise(t=>setTimeout(t,e)),zn=({onAddNew:e})=>{const{getActiveDocument:t,lastSaveTimestamp:n,deleteDocument:h,documents:m,resetStore:p,updateDocument:g}=(0,N.u)(),{token:x,user:j}=(0,y.A)(),[f,w]=(0,r.useState)(!1),[S,T]=(0,r.useState)(!1),I=t(),{siteConfig:E}=(0,Pt.A)(),{expressBackendUrl:D}=E.customFields,L=(0,r.useRef)(null),[P,z]=(0,r.useState)(!0),[$,F]=(0,r.useState)({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null}),H=(0,zt.W6)(),R=E.baseUrl,[M,B]=(0,r.useState)(!1),[J,O]=(0,r.useState)(""),[q,K]=(0,r.useState)(!1),W=(0,r.useMemo)(()=>((e,t)=>{if(!e)return[];const n=[];let r=t.find(t=>t.id===e);for(;r;)n.unshift(r),r=t.find(e=>e.id===r.parentId);return n})(I?.id,m),[I,m]);(0,r.useEffect)(()=>{const e=new ResizeObserver(e=>{for(let t of e){const{width:e}=t.contentRect;z(e>=880)}});return L.current&&e.observe(L.current),()=>{L.current&&e.unobserve(L.current)}},[]);const G=async()=>{if(T(!0),F({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null}),!I)return alert("No active document to publish."),void T(!1);const e=((e,t)=>{let n=t.find(t=>t.id===e);if(!n)return null;for(;n.parentId;){const e=t.find(e=>e.id===n.parentId);if(!e)break;n=e}return n})(I.id,m);if(!e)return alert("Could not find the root document for publishing."),void T(!1);const t=In(e.id,m);if(!t)return alert("Could not construct the document tree."),void T(!1);const n=An(t),r={document:JSON.stringify(n)};try{if(!x)return alert("Authentication error: You are not logged in. Please log in again."),void T(!1);F(e=>({...e,stage:"forking"}));const e=await fetch(`${D}/api/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify(r)}),t=await e.json();if(!e.ok){if(t.error&&t.error.includes("SYNC_CONFLICT"))return j?.username&&O(`https://github.com/${j.username}/architecture-center`),B(!0),F({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null}),void T(!1);throw new Error(t.error||"Failed to publish to GitHub.")}await Pn(1e3),F(e=>({...e,stage:"packaging"})),await Pn(1e3),F(e=>({...e,stage:"committing"})),await Pn(1e3),F({stage:"success",error:null,commitUrl:t.commitUrl,pullRequestUrl:t.pullRequestUrl})}catch(i){console.error("Publishing failed:",i),F({stage:"error",error:i.message,commitUrl:null,pullRequestUrl:null})}};if(!I)return null;const Q={namespace:"MyEditor",theme:yt,onError(e){throw e},nodes:Dn,editorState:I.editorState||null};return(0,A.jsxs)(i.n,{initialConfig:Q,children:[(0,A.jsxs)("div",{className:Nt.editorPageWrapper,children:[(0,A.jsx)("div",{className:Nt.navColumn,children:(0,A.jsx)(Lt,{onAddNew:e})}),(0,A.jsxs)("div",{className:Nt.mainAndTocWrapper,children:[(0,A.jsx)("div",{className:Nt.editorColumn,ref:L,children:(0,A.jsxs)("div",{className:Nt.editorContentWrapper,children:[(0,A.jsxs)("div",{className:Nt.editorHeader,children:[(0,A.jsx)(v.$,{icon:"sap-icon://information",onClick:()=>{const e=`${R}community/get-started-quickstart`;window.open(e,"_blank","noopener,noreferrer")},tooltip:"Learn more about contributing"}),n&&(0,A.jsxs)("span",{className:Nt.saveTimestamp,children:["Last saved: ",n]}),(0,A.jsxs)("div",{className:Nt.headerButtons,children:[(0,A.jsx)(v.$,{design:"Emphasized",onClick:G,disabled:S,children:S?"Submitting...":"Submit"}),I&&(0,A.jsx)(v.$,{design:"Default",onClick:()=>w(!0),tooltip:"Delete current document",children:"Delete"})]})]}),(0,A.jsxs)("div",{className:Nt.editorContainer,children:[(0,A.jsxs)("div",{className:Nt.contentHeader,children:[(0,A.jsx)(hn,{path:W}),(0,A.jsx)(nn,{})]}),P&&(0,A.jsx)(Ae,{}),(0,A.jsxs)("div",{className:Nt.editorInner,children:[(0,A.jsx)(s.$,{contentEditable:(0,A.jsx)(o.a,{className:Nt.editorInput}),placeholder:(0,A.jsx)(En,{}),ErrorBoundary:c.R}),(0,A.jsx)(a.G,{}),(0,A.jsx)(l.x,{}),(0,A.jsx)(d.Q,{}),(0,A.jsx)(u.W,{}),(0,A.jsx)(U,{}),(0,A.jsx)(st,{}),(0,A.jsx)(kt,{}),(0,A.jsx)(Ln,{}),(0,A.jsx)(_t,{}),(0,A.jsx)(et,{})]}),(0,A.jsx)(Tn,{contributors:I?.contributors||[],onContributorsChange:e=>{I&&g(I.id,{contributors:e})}})]})]})}),(0,A.jsx)("div",{className:Nt.tocColumn,children:(0,A.jsx)(dt,{})})]})]}),f&&I&&(0,A.jsx)(b.l,{open:f,headerText:"Delete Document",footer:(0,A.jsx)(C.y,{endContent:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.$,{design:"Emphasized",onClick:()=>{h(I.id),w(!1)},children:"Delete"}),(0,A.jsx)(v.$,{design:"Transparent",onClick:()=>w(!1),children:"Cancel"})]})}),children:(0,A.jsxs)(k.E,{children:["Are you sure you want to delete ",(0,A.jsx)("strong",{children:I.title||"Untitled Page"}),"?",(0,A.jsx)("br",{}),"This action cannot be undone."]})}),(0,A.jsx)(Wt,{status:$.stage,error:$.error,commitUrl:$.commitUrl,pullRequestUrl:$.pullRequestUrl,onClose:()=>{F({stage:"idle",error:null,commitUrl:null,pullRequestUrl:null})},onSuccessFinish:()=>{const e=$.pullRequestUrl||$.commitUrl;e&&window.open(e,"_blank","noopener,noreferrer"),p(),H.push(R)}}),(0,A.jsx)(b.l,{open:M,header:(0,A.jsx)(C.y,{children:(0,A.jsx)(_.h,{children:"Sync Required"})}),footer:(0,A.jsx)(C.y,{endContent:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.$,{design:"Transparent",className:Nt.transparentButton,onClick:()=>{B(!1),G()},disabled:q,children:"I've Synced Manually, Retry"}),(0,A.jsx)(v.$,{onClick:()=>B(!1),disabled:q,children:"Cancel"})]})}),children:(0,A.jsxs)("div",{style:{padding:"1.5rem",fontSize:"1rem",color:"#333"},children:[(0,A.jsx)("p",{style:{marginTop:0,marginBottom:"1rem"},children:"Your fork is out of sync and could not be updated automatically."}),(0,A.jsx)("p",{style:{marginBottom:"1.5rem"},children:"Please sync your fork manually on GitHub and then try again, or attempt another automatic sync."}),(0,A.jsx)("h4",{style:{marginBottom:"0.5rem",fontWeight:600},children:"Manual Sync Instructions:"}),(0,A.jsxs)("ol",{style:{paddingLeft:"20px",margin:0,lineHeight:"1.8"},children:[(0,A.jsx)("li",{children:(0,A.jsx)("strong",{children:(0,A.jsx)("a",{href:J,target:"_blank",rel:"noopener noreferrer",style:{color:"#0b65de"},children:"Open your fork on GitHub"})})}),(0,A.jsx)("li",{children:'Find the "Sync fork" button near the top of the page.'}),(0,A.jsx)("li",{children:'Click "Update branch" to complete the sync.'})]})]})})]})}},66234:(e,t,n)=>{n.d(t,{A:()=>c});n(96540);var r=n(41238),i=n(35476),s=n(64060),o=n(59359);const a={heroBanner:"heroBanner_wA0H",heroContent:"heroContent_BGb3",breadCrumbs:"breadCrumbs_rAmo",homeLink:"homeLink_V6XO",breadcrumbSeparator:"breadcrumbSeparator_ZlLI",breadcrumbCurrent:"breadcrumbCurrent_fWkQ",heroTitle:"heroTitle_aezW",heroSubtitle:"heroSubtitle_ldDM"};var l=n(74848);function c({title:e,subtitle:t,breadcrumbCurrent:n}){return(0,l.jsx)("div",{className:a.heroBanner,children:(0,l.jsxs)("div",{className:a.heroContent,children:[(0,l.jsxs)("div",{className:a.breadCrumbs,children:[(0,l.jsx)("a",{href:"/",className:a.homeLink,children:(0,l.jsx)(r.I,{name:"home"})}),(0,l.jsx)(i.E,{className:a.breadcrumbSeparator,children:">"}),(0,l.jsx)(i.E,{className:a.breadcrumbCurrent,children:n})]}),(0,l.jsxs)(s.p,{direction:"Column",alignItems:"Start",justifyContent:"Center",children:[(0,l.jsx)(o.h,{className:a.heroTitle,children:e}),(0,l.jsx)(i.E,{className:a.heroSubtitle,children:t})]})]})})}}}]);